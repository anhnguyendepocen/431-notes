<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 10 Summarizing data within subgroups | Data Science for Biological, Medical and Health Research: Notes for PQHS/CRSP/MPHP 431</title>
  <meta name="description" content="This book describes some fundamental approaches to doing biostatistical and data science in research." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 10 Summarizing data within subgroups | Data Science for Biological, Medical and Health Research: Notes for PQHS/CRSP/MPHP 431" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This book describes some fundamental approaches to doing biostatistical and data science in research." />
  <meta name="github-repo" content="thomaselove/431-book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 10 Summarizing data within subgroups | Data Science for Biological, Medical and Health Research: Notes for PQHS/CRSP/MPHP 431" />
  
  <meta name="twitter:description" content="This book describes some fundamental approaches to doing biostatistical and data science in research." />
  

<meta name="author" content="Thomas E. Love" />


<meta name="date" content="2020-09-19" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="using-transformations-to-normalize-distributions.html"/>
<link rel="next" href="straight-line-models-and-correlation.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Dr. Love's Notes for 431</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Working with These Notes</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#the-431-course-online"><i class="fa fa-check"></i>The 431 Course online</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-youll-find-here"><i class="fa fa-check"></i>What You’ll Find Here</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#setting-up-r"><i class="fa fa-check"></i>Setting Up R</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#initial-setup-of-r-packages"><i class="fa fa-check"></i>Initial Setup of R Packages</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#additional-r-packages-installed-for-this-book"><i class="fa fa-check"></i>Additional R Packages installed for this book</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="data-science.html"><a href="data-science.html"><i class="fa fa-check"></i><b>1</b> Data Science</a><ul>
<li class="chapter" data-level="1.1" data-path="data-science.html"><a href="data-science.html#data-science-project-cycle"><i class="fa fa-check"></i><b>1.1</b> Data Science Project Cycle</a></li>
<li class="chapter" data-level="1.2" data-path="data-science.html"><a href="data-science.html#data-science-and-the-431-course"><i class="fa fa-check"></i><b>1.2</b> Data Science and the 431 Course</a></li>
<li class="chapter" data-level="1.3" data-path="data-science.html"><a href="data-science.html#what-the-course-is-and-isnt"><i class="fa fa-check"></i><b>1.3</b> What The Course Is and Isn’t</a></li>
</ul></li>
<li class="part"><span><b>Part A. Exploring Data</b></span></li>
<li class="chapter" data-level="2" data-path="looking-at-the-palmer-penguins.html"><a href="looking-at-the-palmer-penguins.html"><i class="fa fa-check"></i><b>2</b> Looking at the Palmer Penguins</a><ul>
<li class="chapter" data-level="2.1" data-path="looking-at-the-palmer-penguins.html"><a href="looking-at-the-palmer-penguins.html#package-loading-then-dealing-with-missing-data"><i class="fa fa-check"></i><b>2.1</b> Package Loading, then Dealing with Missing Data</a></li>
<li class="chapter" data-level="2.2" data-path="looking-at-the-palmer-penguins.html"><a href="looking-at-the-palmer-penguins.html#counting-things-and-making-tables"><i class="fa fa-check"></i><b>2.2</b> Counting Things and Making Tables</a></li>
<li class="chapter" data-level="2.3" data-path="looking-at-the-palmer-penguins.html"><a href="looking-at-the-palmer-penguins.html#visualizing-the-data-in-a-graph-or-a-few"><i class="fa fa-check"></i><b>2.3</b> Visualizing the Data in a Graph (or a few…)</a></li>
<li class="chapter" data-level="2.4" data-path="looking-at-the-palmer-penguins.html"><a href="looking-at-the-palmer-penguins.html#six-ways-to-improve-this-graph"><i class="fa fa-check"></i><b>2.4</b> Six Ways To “Improve” This Graph</a></li>
<li class="chapter" data-level="2.5" data-path="looking-at-the-palmer-penguins.html"><a href="looking-at-the-palmer-penguins.html#a-little-reflection"><i class="fa fa-check"></i><b>2.5</b> A Little Reflection</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="dataviz.html"><a href="dataviz.html"><i class="fa fa-check"></i><b>3</b> NHANES: Initial Exploring</a><ul>
<li class="chapter" data-level="3.1" data-path="dataviz.html"><a href="dataviz.html#the-nhanes-data-collecting-a-sample"><i class="fa fa-check"></i><b>3.1</b> The NHANES data: Collecting a Sample</a></li>
<li class="chapter" data-level="3.2" data-path="dataviz.html"><a href="dataviz.html#age-and-height"><i class="fa fa-check"></i><b>3.2</b> Age and Height</a></li>
<li class="chapter" data-level="3.3" data-path="dataviz.html"><a href="dataviz.html#subset-of-subjects-with-known-age-and-height"><i class="fa fa-check"></i><b>3.3</b> Subset of Subjects with Known Age and Height</a><ul>
<li class="chapter" data-level="3.3.1" data-path="dataviz.html"><a href="dataviz.html#the-distinction-between-gender-and-sex"><i class="fa fa-check"></i><b>3.3.1</b> The Distinction between <code>Gender</code> and <code>Sex</code></a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="dataviz.html"><a href="dataviz.html#age-height-and-sex"><i class="fa fa-check"></i><b>3.4</b> Age-Height and Sex?</a><ul>
<li class="chapter" data-level="3.4.1" data-path="dataviz.html"><a href="dataviz.html#can-we-show-the-female-and-male-relationships-in-separate-panels"><i class="fa fa-check"></i><b>3.4.1</b> Can we show the Female and Male relationships in separate panels?</a></li>
<li class="chapter" data-level="3.4.2" data-path="dataviz.html"><a href="dataviz.html#can-we-add-a-smooth-curve-to-show-the-relationship-in-each-plot"><i class="fa fa-check"></i><b>3.4.2</b> Can we add a smooth curve to show the relationship in each plot?</a></li>
<li class="chapter" data-level="3.4.3" data-path="dataviz.html"><a href="dataviz.html#what-if-we-want-to-assume-straight-line-relationships"><i class="fa fa-check"></i><b>3.4.3</b> What if we want to assume straight line relationships?</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="dataviz.html"><a href="dataviz.html#creating-a-new-subset-ages-21-79"><i class="fa fa-check"></i><b>3.5</b> Creating A New Subset: Ages 21-79</a></li>
<li class="chapter" data-level="3.6" data-path="dataviz.html"><a href="dataviz.html#distribution-of-heights"><i class="fa fa-check"></i><b>3.6</b> Distribution of Heights</a><ul>
<li class="chapter" data-level="3.6.1" data-path="dataviz.html"><a href="dataviz.html#changing-a-histograms-fill-and-color"><i class="fa fa-check"></i><b>3.6.1</b> Changing a Histogram’s Fill and Color</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="dataviz.html"><a href="dataviz.html#height-and-sex"><i class="fa fa-check"></i><b>3.7</b> Height and Sex</a><ul>
<li class="chapter" data-level="3.7.1" data-path="dataviz.html"><a href="dataviz.html#a-boxplot-of-height-by-sex"><i class="fa fa-check"></i><b>3.7.1</b> A Boxplot of Height by Sex</a></li>
<li class="chapter" data-level="3.7.2" data-path="dataviz.html"><a href="dataviz.html#histograms-of-height-by-sex"><i class="fa fa-check"></i><b>3.7.2</b> Histograms of Height by Sex</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="dataviz.html"><a href="dataviz.html#looking-at-pulse-rate"><i class="fa fa-check"></i><b>3.8</b> Looking at Pulse Rate</a><ul>
<li class="chapter" data-level="3.8.1" data-path="dataviz.html"><a href="dataviz.html#pulse-rate-and-physical-activity"><i class="fa fa-check"></i><b>3.8.1</b> Pulse Rate and Physical Activity</a></li>
<li class="chapter" data-level="3.8.2" data-path="dataviz.html"><a href="dataviz.html#pulse-by-sleeping-trouble"><i class="fa fa-check"></i><b>3.8.2</b> Pulse by Sleeping Trouble</a></li>
<li class="chapter" data-level="3.8.3" data-path="dataviz.html"><a href="dataviz.html#pulse-and-healthgen"><i class="fa fa-check"></i><b>3.8.3</b> Pulse and HealthGen</a></li>
<li class="chapter" data-level="3.8.4" data-path="dataviz.html"><a href="dataviz.html#pulse-rate-and-systolic-blood-pressure"><i class="fa fa-check"></i><b>3.8.4</b> Pulse Rate and Systolic Blood Pressure</a></li>
<li class="chapter" data-level="3.8.5" data-path="dataviz.html"><a href="dataviz.html#sleep-trouble-vs.-no-sleep-trouble"><i class="fa fa-check"></i><b>3.8.5</b> Sleep Trouble vs. No Sleep Trouble?</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="dataviz.html"><a href="dataviz.html#general-health-status"><i class="fa fa-check"></i><b>3.9</b> General Health Status</a><ul>
<li class="chapter" data-level="3.9.1" data-path="dataviz.html"><a href="dataviz.html#bar-chart-for-categorical-data"><i class="fa fa-check"></i><b>3.9.1</b> Bar Chart for Categorical Data</a></li>
<li class="chapter" data-level="3.9.2" data-path="dataviz.html"><a href="dataviz.html#working-with-tables"><i class="fa fa-check"></i><b>3.9.2</b> Working with Tables</a></li>
<li class="chapter" data-level="3.9.3" data-path="dataviz.html"><a href="dataviz.html#sbp-by-general-health-status"><i class="fa fa-check"></i><b>3.9.3</b> SBP by General Health Status</a></li>
<li class="chapter" data-level="3.9.4" data-path="dataviz.html"><a href="dataviz.html#sbp-by-physical-activity-and-general-health-status"><i class="fa fa-check"></i><b>3.9.4</b> SBP by Physical Activity and General Health Status</a></li>
<li class="chapter" data-level="3.9.5" data-path="dataviz.html"><a href="dataviz.html#sbp-by-sleep-trouble-and-general-health-status"><i class="fa fa-check"></i><b>3.9.5</b> SBP by Sleep Trouble and General Health Status</a></li>
</ul></li>
<li class="chapter" data-level="3.10" data-path="dataviz.html"><a href="dataviz.html#conclusions"><i class="fa fa-check"></i><b>3.10</b> Conclusions</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-structures-and-types-of-variables.html"><a href="data-structures-and-types-of-variables.html"><i class="fa fa-check"></i><b>4</b> Data Structures and Types of Variables</a><ul>
<li class="chapter" data-level="4.1" data-path="data-structures-and-types-of-variables.html"><a href="data-structures-and-types-of-variables.html#data-require-structure-and-context"><i class="fa fa-check"></i><b>4.1</b> Data require structure and context</a></li>
<li class="chapter" data-level="4.2" data-path="data-structures-and-types-of-variables.html"><a href="data-structures-and-types-of-variables.html#newNHANES"><i class="fa fa-check"></i><b>4.2</b> A New NHANES Adult Sample</a><ul>
<li class="chapter" data-level="4.2.1" data-path="data-structures-and-types-of-variables.html"><a href="data-structures-and-types-of-variables.html#summarizing-the-datas-structure"><i class="fa fa-check"></i><b>4.2.1</b> Summarizing the Data’s Structure</a></li>
<li class="chapter" data-level="4.2.2" data-path="data-structures-and-types-of-variables.html"><a href="data-structures-and-types-of-variables.html#what-are-the-variables"><i class="fa fa-check"></i><b>4.2.2</b> What are the variables?</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="data-structures-and-types-of-variables.html"><a href="data-structures-and-types-of-variables.html#quantitative-variables"><i class="fa fa-check"></i><b>4.3</b> Quantitative Variables</a><ul>
<li class="chapter" data-level="4.3.1" data-path="data-structures-and-types-of-variables.html"><a href="data-structures-and-types-of-variables.html#a-look-at-bmi-body-mass-index"><i class="fa fa-check"></i><b>4.3.1</b> A look at BMI (Body-Mass Index)</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="data-structures-and-types-of-variables.html"><a href="data-structures-and-types-of-variables.html#qualitative-categorical-variables"><i class="fa fa-check"></i><b>4.4</b> Qualitative (Categorical) Variables</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html"><i class="fa fa-check"></i><b>5</b> Summarizing Quantitative Variables</a><ul>
<li class="chapter" data-level="5.1" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#the-summary-function-for-quantitative-data"><i class="fa fa-check"></i><b>5.1</b> The <code>summary</code> function for Quantitative data</a></li>
<li class="chapter" data-level="5.2" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#measuring-the-center-of-a-distribution"><i class="fa fa-check"></i><b>5.2</b> Measuring the Center of a Distribution</a><ul>
<li class="chapter" data-level="5.2.1" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#the-mean-and-the-median"><i class="fa fa-check"></i><b>5.2.1</b> The Mean and The Median</a></li>
<li class="chapter" data-level="5.2.2" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#dealing-with-missingness"><i class="fa fa-check"></i><b>5.2.2</b> Dealing with Missingness</a></li>
<li class="chapter" data-level="5.2.3" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#the-mode-of-a-quantitative-variable"><i class="fa fa-check"></i><b>5.2.3</b> The Mode of a Quantitative Variable</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#measuring-the-spread-of-a-distribution"><i class="fa fa-check"></i><b>5.3</b> Measuring the Spread of a Distribution</a><ul>
<li class="chapter" data-level="5.3.1" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#rangeandiqr"><i class="fa fa-check"></i><b>5.3.1</b> The Range and the Interquartile Range (IQR)</a></li>
<li class="chapter" data-level="5.3.2" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#the-variance-and-the-standard-deviation"><i class="fa fa-check"></i><b>5.3.2</b> The Variance and the Standard Deviation</a></li>
<li class="chapter" data-level="5.3.3" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#obtaining-the-variance-and-standard-deviation-in-r"><i class="fa fa-check"></i><b>5.3.3</b> Obtaining the Variance and Standard Deviation in R</a></li>
<li class="chapter" data-level="5.3.4" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#defining-the-variance-and-standard-deviation"><i class="fa fa-check"></i><b>5.3.4</b> Defining the Variance and Standard Deviation</a></li>
<li class="chapter" data-level="5.3.5" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#interpreting-the-sd-when-the-data-are-normally-distributed"><i class="fa fa-check"></i><b>5.3.5</b> Interpreting the SD when the data are Normally distributed</a></li>
<li class="chapter" data-level="5.3.6" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#chebyshevs-inequality-one-interpretation-of-the-standard-deviation"><i class="fa fa-check"></i><b>5.3.6</b> Chebyshev’s Inequality: One Interpretation of the Standard Deviation</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#measuring-the-shape-of-a-distribution"><i class="fa fa-check"></i><b>5.4</b> Measuring the Shape of a Distribution</a><ul>
<li class="chapter" data-level="5.4.1" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#multimodal-vs.-unimodal-distributions"><i class="fa fa-check"></i><b>5.4.1</b> Multimodal vs. Unimodal distributions</a></li>
<li class="chapter" data-level="5.4.2" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#skew"><i class="fa fa-check"></i><b>5.4.2</b> Skew</a></li>
<li class="chapter" data-level="5.4.3" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#kurtosis"><i class="fa fa-check"></i><b>5.4.3</b> Kurtosis</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#more-detailed-numerical-summaries-for-quantitative-variables"><i class="fa fa-check"></i><b>5.5</b> More Detailed Numerical Summaries for Quantitative Variables</a><ul>
<li class="chapter" data-level="5.5.1" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#favstats-in-the-mosaic-package"><i class="fa fa-check"></i><b>5.5.1</b> <code>favstats</code> in the <code>mosaic</code> package</a></li>
<li class="chapter" data-level="5.5.2" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#describe-in-the-psych-package"><i class="fa fa-check"></i><b>5.5.2</b> <code>describe</code> in the <code>psych</code> package</a></li>
<li class="chapter" data-level="5.5.3" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#the-hmisc-packages-version-of-describe"><i class="fa fa-check"></i><b>5.5.3</b> The <code>Hmisc</code> package’s version of <code>describe</code></a></li>
<li class="chapter" data-level="5.5.4" data-path="summarizing-quantities.html"><a href="summarizing-quantities.html#other-options"><i class="fa fa-check"></i><b>5.5.4</b> Other options</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="summarizing-categorical-variables.html"><a href="summarizing-categorical-variables.html"><i class="fa fa-check"></i><b>6</b> Summarizing Categorical Variables</a><ul>
<li class="chapter" data-level="6.1" data-path="summarizing-categorical-variables.html"><a href="summarizing-categorical-variables.html#the-summary-function-for-categorical-data"><i class="fa fa-check"></i><b>6.1</b> The <code>summary</code> function for Categorical data</a></li>
<li class="chapter" data-level="6.2" data-path="summarizing-categorical-variables.html"><a href="summarizing-categorical-variables.html#tables-to-describe-one-categorical-variable"><i class="fa fa-check"></i><b>6.2</b> Tables to describe One Categorical Variable</a></li>
<li class="chapter" data-level="6.3" data-path="summarizing-categorical-variables.html"><a href="summarizing-categorical-variables.html#the-mode-of-a-categorical-variable"><i class="fa fa-check"></i><b>6.3</b> The Mode of a Categorical Variable</a></li>
<li class="chapter" data-level="6.4" data-path="summarizing-categorical-variables.html"><a href="summarizing-categorical-variables.html#describe-in-the-hmisc-package"><i class="fa fa-check"></i><b>6.4</b> <code>describe</code> in the <code>Hmisc</code> package</a></li>
<li class="chapter" data-level="6.5" data-path="summarizing-categorical-variables.html"><a href="summarizing-categorical-variables.html#cross-tabulations"><i class="fa fa-check"></i><b>6.5</b> Cross-Tabulations</a><ul>
<li class="chapter" data-level="6.5.1" data-path="summarizing-categorical-variables.html"><a href="summarizing-categorical-variables.html#cross-classifying-three-categorical-variables"><i class="fa fa-check"></i><b>6.5.1</b> Cross-Classifying Three Categorical Variables</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="summarizing-categorical-variables.html"><a href="summarizing-categorical-variables.html#constructing-tables-well"><i class="fa fa-check"></i><b>6.6</b> Constructing Tables Well</a><ul>
<li class="chapter" data-level="6.6.1" data-path="summarizing-categorical-variables.html"><a href="summarizing-categorical-variables.html#alabama-first"><i class="fa fa-check"></i><b>6.6.1</b> Alabama First!</a></li>
<li class="chapter" data-level="6.6.2" data-path="summarizing-categorical-variables.html"><a href="summarizing-categorical-variables.html#order-rows-and-columns-sensibly"><i class="fa fa-check"></i><b>6.6.2</b> Order rows and columns sensibly</a></li>
<li class="chapter" data-level="6.6.3" data-path="summarizing-categorical-variables.html"><a href="summarizing-categorical-variables.html#round---a-lot"><i class="fa fa-check"></i><b>6.6.3</b> Round - a lot!</a></li>
<li class="chapter" data-level="6.6.4" data-path="summarizing-categorical-variables.html"><a href="summarizing-categorical-variables.html#all-is-different-and-important"><i class="fa fa-check"></i><b>6.6.4</b> ALL is different and important</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="summarizing-categorical-variables.html"><a href="summarizing-categorical-variables.html#gaining-control-over-tables-in-r-the-gt-package"><i class="fa fa-check"></i><b>6.7</b> Gaining Control over Tables in R: the <code>gt</code> package</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="NYFS-Study.html"><a href="NYFS-Study.html"><i class="fa fa-check"></i><b>7</b> NHANES National Youth Fitness Survey (<code>nnyfs</code>)</a><ul>
<li class="chapter" data-level="7.1" data-path="NYFS-Study.html"><a href="NYFS-Study.html#the-variables-included-in-nnyfs"><i class="fa fa-check"></i><b>7.1</b> The Variables included in <code>nnyfs</code></a><ul>
<li class="chapter" data-level="7.1.1" data-path="NYFS-Study.html"><a href="NYFS-Study.html#from-the-nnyfs-demographic-component"><i class="fa fa-check"></i><b>7.1.1</b> From the <span>NNYFS Demographic Component</span></a></li>
<li class="chapter" data-level="7.1.2" data-path="NYFS-Study.html"><a href="NYFS-Study.html#from-the-nnyfs-dietary-component"><i class="fa fa-check"></i><b>7.1.2</b> From the <span>NNYFS Dietary Component</span></a></li>
<li class="chapter" data-level="7.1.3" data-path="NYFS-Study.html"><a href="NYFS-Study.html#from-the-nnyfs-examination-component"><i class="fa fa-check"></i><b>7.1.3</b> From the <span>NNYFS Examination Component</span></a></li>
<li class="chapter" data-level="7.1.4" data-path="NYFS-Study.html"><a href="NYFS-Study.html#from-the-nnyfs-questionnaire-component"><i class="fa fa-check"></i><b>7.1.4</b> From the <span>NNYFS Questionnaire Component</span></a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="NYFS-Study.html"><a href="NYFS-Study.html#looking-over-a-few-variables"><i class="fa fa-check"></i><b>7.2</b> Looking over A Few Variables</a><ul>
<li class="chapter" data-level="7.2.1" data-path="NYFS-Study.html"><a href="NYFS-Study.html#seqn"><i class="fa fa-check"></i><b>7.2.1</b> <code>SEQN</code></a></li>
<li class="chapter" data-level="7.2.2" data-path="NYFS-Study.html"><a href="NYFS-Study.html#sex"><i class="fa fa-check"></i><b>7.2.2</b> <code>sex</code></a></li>
<li class="chapter" data-level="7.2.3" data-path="NYFS-Study.html"><a href="NYFS-Study.html#age_child"><i class="fa fa-check"></i><b>7.2.3</b> <code>age_child</code></a></li>
<li class="chapter" data-level="7.2.4" data-path="NYFS-Study.html"><a href="NYFS-Study.html#race_eth"><i class="fa fa-check"></i><b>7.2.4</b> <code>race_eth</code></a></li>
<li class="chapter" data-level="7.2.5" data-path="NYFS-Study.html"><a href="NYFS-Study.html#income_pov"><i class="fa fa-check"></i><b>7.2.5</b> <code>income_pov</code></a></li>
<li class="chapter" data-level="7.2.6" data-path="NYFS-Study.html"><a href="NYFS-Study.html#bmi"><i class="fa fa-check"></i><b>7.2.6</b> <code>bmi</code></a></li>
<li class="chapter" data-level="7.2.7" data-path="NYFS-Study.html"><a href="NYFS-Study.html#bmi_cat"><i class="fa fa-check"></i><b>7.2.7</b> <code>bmi_cat</code></a></li>
<li class="chapter" data-level="7.2.8" data-path="NYFS-Study.html"><a href="NYFS-Study.html#waist"><i class="fa fa-check"></i><b>7.2.8</b> <code>waist</code></a></li>
<li class="chapter" data-level="7.2.9" data-path="NYFS-Study.html"><a href="NYFS-Study.html#triceps_skinfold"><i class="fa fa-check"></i><b>7.2.9</b> <code>triceps_skinfold</code></a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="NYFS-Study.html"><a href="NYFS-Study.html#additional-numeric-summaries"><i class="fa fa-check"></i><b>7.3</b> Additional Numeric Summaries</a><ul>
<li class="chapter" data-level="7.3.1" data-path="NYFS-Study.html"><a href="NYFS-Study.html#the-five-number-summary-quantiles-and-iqr"><i class="fa fa-check"></i><b>7.3.1</b> The Five Number Summary, Quantiles and IQR</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="NYFS-Study.html"><a href="NYFS-Study.html#additional-summaries-from-favstats"><i class="fa fa-check"></i><b>7.4</b> Additional Summaries from <code>favstats</code></a></li>
<li class="chapter" data-level="7.5" data-path="NYFS-Study.html"><a href="NYFS-Study.html#the-histogram"><i class="fa fa-check"></i><b>7.5</b> The Histogram</a><ul>
<li class="chapter" data-level="7.5.1" data-path="NYFS-Study.html"><a href="NYFS-Study.html#freedman-diaconis-rule-to-select-bin-width"><i class="fa fa-check"></i><b>7.5.1</b> Freedman-Diaconis Rule to select bin width</a></li>
<li class="chapter" data-level="7.5.2" data-path="NYFS-Study.html"><a href="NYFS-Study.html#a-note-on-colors"><i class="fa fa-check"></i><b>7.5.2</b> A Note on Colors</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="NYFS-Study.html"><a href="NYFS-Study.html#the-dot-plot-to-display-a-distribution"><i class="fa fa-check"></i><b>7.6</b> The Dot Plot to display a distribution</a></li>
<li class="chapter" data-level="7.7" data-path="NYFS-Study.html"><a href="NYFS-Study.html#the-frequency-polygon"><i class="fa fa-check"></i><b>7.7</b> The Frequency Polygon</a></li>
<li class="chapter" data-level="7.8" data-path="NYFS-Study.html"><a href="NYFS-Study.html#plotting-the-probability-density-function"><i class="fa fa-check"></i><b>7.8</b> Plotting the Probability Density Function</a></li>
<li class="chapter" data-level="7.9" data-path="NYFS-Study.html"><a href="NYFS-Study.html#the-boxplot"><i class="fa fa-check"></i><b>7.9</b> The Boxplot</a><ul>
<li class="chapter" data-level="7.9.1" data-path="NYFS-Study.html"><a href="NYFS-Study.html#drawing-a-boxplot-for-one-variable-in-ggplot2"><i class="fa fa-check"></i><b>7.9.1</b> Drawing a Boxplot for One Variable in <code>ggplot2</code></a></li>
<li class="chapter" data-level="7.9.2" data-path="NYFS-Study.html"><a href="NYFS-Study.html#about-the-boxplot"><i class="fa fa-check"></i><b>7.9.2</b> About the Boxplot</a></li>
</ul></li>
<li class="chapter" data-level="7.10" data-path="NYFS-Study.html"><a href="NYFS-Study.html#a-simple-comparison-boxplot"><i class="fa fa-check"></i><b>7.10</b> A Simple Comparison Boxplot</a></li>
<li class="chapter" data-level="7.11" data-path="NYFS-Study.html"><a href="NYFS-Study.html#using-describe-in-the-psych-library"><i class="fa fa-check"></i><b>7.11</b> Using <code>describe</code> in the <code>psych</code> library</a><ul>
<li class="chapter" data-level="7.11.1" data-path="NYFS-Study.html"><a href="NYFS-Study.html#the-trimmed-mean"><i class="fa fa-check"></i><b>7.11.1</b> The Trimmed Mean</a></li>
<li class="chapter" data-level="7.11.2" data-path="NYFS-Study.html"><a href="NYFS-Study.html#the-median-absolute-deviation"><i class="fa fa-check"></i><b>7.11.2</b> The Median Absolute Deviation</a></li>
</ul></li>
<li class="chapter" data-level="7.12" data-path="NYFS-Study.html"><a href="NYFS-Study.html#assessing-skew"><i class="fa fa-check"></i><b>7.12</b> Assessing Skew</a><ul>
<li class="chapter" data-level="7.12.1" data-path="NYFS-Study.html"><a href="NYFS-Study.html#non-parametric-skewness"><i class="fa fa-check"></i><b>7.12.1</b> Non-parametric Skewness</a></li>
</ul></li>
<li class="chapter" data-level="7.13" data-path="NYFS-Study.html"><a href="NYFS-Study.html#assessing-kurtosis-heavy-tailedness"><i class="fa fa-check"></i><b>7.13</b> Assessing Kurtosis (Heavy-Tailedness)</a><ul>
<li class="chapter" data-level="7.13.1" data-path="NYFS-Study.html"><a href="NYFS-Study.html#the-standard-error-of-the-sample-mean"><i class="fa fa-check"></i><b>7.13.1</b> The Standard Error of the Sample Mean</a></li>
</ul></li>
<li class="chapter" data-level="7.14" data-path="NYFS-Study.html"><a href="NYFS-Study.html#the-describe-function-in-the-hmisc-package"><i class="fa fa-check"></i><b>7.14</b> The <code>describe</code> function in the <code>Hmisc</code> package</a></li>
<li class="chapter" data-level="7.15" data-path="NYFS-Study.html"><a href="NYFS-Study.html#what-summaries-to-report"><i class="fa fa-check"></i><b>7.15</b> What Summaries to Report</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="assessing-normality.html"><a href="assessing-normality.html"><i class="fa fa-check"></i><b>8</b> Assessing Normality</a><ul>
<li class="chapter" data-level="8.1" data-path="assessing-normality.html"><a href="assessing-normality.html#empirical-rule-interpretation-of-the-standard-deviation"><i class="fa fa-check"></i><b>8.1</b> Empirical Rule Interpretation of the Standard Deviation</a></li>
<li class="chapter" data-level="8.2" data-path="assessing-normality.html"><a href="assessing-normality.html#describing-outlying-values-with-z-scores"><i class="fa fa-check"></i><b>8.2</b> Describing Outlying Values with Z Scores</a><ul>
<li class="chapter" data-level="8.2.1" data-path="assessing-normality.html"><a href="assessing-normality.html#fences-and-z-scores"><i class="fa fa-check"></i><b>8.2.1</b> Fences and Z Scores</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="assessing-normality.html"><a href="assessing-normality.html#comparing-a-histogram-to-a-normal-distribution"><i class="fa fa-check"></i><b>8.3</b> Comparing a Histogram to a Normal Distribution</a><ul>
<li class="chapter" data-level="8.3.1" data-path="assessing-normality.html"><a href="assessing-normality.html#histogram-of-energy-with-normal-model-with-counts"><i class="fa fa-check"></i><b>8.3.1</b> Histogram of <code>energy</code> with Normal model (with Counts)</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="assessing-normality.html"><a href="assessing-normality.html#does-a-normal-model-work-well-for-the-waist-circumference"><i class="fa fa-check"></i><b>8.4</b> Does a Normal model work well for the <code>waist</code> circumference?</a></li>
<li class="chapter" data-level="8.5" data-path="assessing-normality.html"><a href="assessing-normality.html#the-normal-q-q-plot"><i class="fa fa-check"></i><b>8.5</b> The Normal Q-Q Plot</a></li>
<li class="chapter" data-level="8.6" data-path="assessing-normality.html"><a href="assessing-normality.html#interpreting-the-normal-q-q-plot"><i class="fa fa-check"></i><b>8.6</b> Interpreting the Normal Q-Q Plot</a><ul>
<li class="chapter" data-level="8.6.1" data-path="assessing-normality.html"><a href="assessing-normality.html#data-from-a-normal-distribution-shows-up-as-a-straight-line-in-a-normal-q-q-plot"><i class="fa fa-check"></i><b>8.6.1</b> Data from a Normal distribution shows up as a straight line in a Normal Q-Q plot</a></li>
<li class="chapter" data-level="8.6.2" data-path="assessing-normality.html"><a href="assessing-normality.html#skew-is-indicated-by-monotonic-curves-in-the-normal-q-q-plot"><i class="fa fa-check"></i><b>8.6.2</b> Skew is indicated by monotonic curves in the Normal Q-Q plot</a></li>
<li class="chapter" data-level="8.6.3" data-path="assessing-normality.html"><a href="assessing-normality.html#direction-of-skew"><i class="fa fa-check"></i><b>8.6.3</b> Direction of Skew</a></li>
<li class="chapter" data-level="8.6.4" data-path="assessing-normality.html"><a href="assessing-normality.html#outlier-proneness-is-indicated-by-s-shaped-curves-in-a-normal-q-q-plot"><i class="fa fa-check"></i><b>8.6.4</b> Outlier-proneness is indicated by “s-shaped” curves in a Normal Q-Q plot</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="assessing-normality.html"><a href="assessing-normality.html#can-a-normal-distribution-fit-the-nnyfs-energy-data-well"><i class="fa fa-check"></i><b>8.7</b> Can a Normal Distribution Fit the <code>nnyfs</code> <code>energy</code> data Well?</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="using-transformations-to-normalize-distributions.html"><a href="using-transformations-to-normalize-distributions.html"><i class="fa fa-check"></i><b>9</b> Using Transformations to “Normalize” Distributions</a><ul>
<li class="chapter" data-level="9.1" data-path="using-transformations-to-normalize-distributions.html"><a href="using-transformations-to-normalize-distributions.html#the-ladder-of-power-transformations"><i class="fa fa-check"></i><b>9.1</b> The Ladder of Power Transformations</a></li>
<li class="chapter" data-level="9.2" data-path="using-transformations-to-normalize-distributions.html"><a href="using-transformations-to-normalize-distributions.html#using-the-ladder"><i class="fa fa-check"></i><b>9.2</b> Using the Ladder</a></li>
<li class="chapter" data-level="9.3" data-path="using-transformations-to-normalize-distributions.html"><a href="using-transformations-to-normalize-distributions.html#protein-consumption-in-the-nnyfs-data"><i class="fa fa-check"></i><b>9.3</b> Protein Consumption in the NNYFS data</a><ul>
<li class="chapter" data-level="9.3.1" data-path="using-transformations-to-normalize-distributions.html"><a href="using-transformations-to-normalize-distributions.html#using-patchwork-to-compose-plots"><i class="fa fa-check"></i><b>9.3.1</b> Using <code>patchwork</code> to compose plots</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="using-transformations-to-normalize-distributions.html"><a href="using-transformations-to-normalize-distributions.html#can-we-transform-the-protein-data"><i class="fa fa-check"></i><b>9.4</b> Can we transform the <code>protein</code> data?</a><ul>
<li class="chapter" data-level="9.4.1" data-path="using-transformations-to-normalize-distributions.html"><a href="using-transformations-to-normalize-distributions.html#the-square-root"><i class="fa fa-check"></i><b>9.4.1</b> The Square Root</a></li>
<li class="chapter" data-level="9.4.2" data-path="using-transformations-to-normalize-distributions.html"><a href="using-transformations-to-normalize-distributions.html#the-logarithm"><i class="fa fa-check"></i><b>9.4.2</b> The Logarithm</a></li>
<li class="chapter" data-level="9.4.3" data-path="using-transformations-to-normalize-distributions.html"><a href="using-transformations-to-normalize-distributions.html#this-course-uses-natural-logarithms-unless-otherwise-specified"><i class="fa fa-check"></i><b>9.4.3</b> This course uses Natural Logarithms, unless otherwise specified</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="using-transformations-to-normalize-distributions.html"><a href="using-transformations-to-normalize-distributions.html#what-if-we-considered-all-9-available-transformations"><i class="fa fa-check"></i><b>9.5</b> What if we considered all 9 available transformations?</a></li>
<li class="chapter" data-level="9.6" data-path="using-transformations-to-normalize-distributions.html"><a href="using-transformations-to-normalize-distributions.html#a-simulated-data-set"><i class="fa fa-check"></i><b>9.6</b> A Simulated Data Set</a></li>
<li class="chapter" data-level="9.7" data-path="using-transformations-to-normalize-distributions.html"><a href="using-transformations-to-normalize-distributions.html#what-if-we-considered-all-9-available-transformations-1"><i class="fa fa-check"></i><b>9.7</b> What if we considered all 9 available transformations?</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="summarizing-data-within-subgroups.html"><a href="summarizing-data-within-subgroups.html"><i class="fa fa-check"></i><b>10</b> Summarizing data within subgroups</a><ul>
<li class="chapter" data-level="10.1" data-path="summarizing-data-within-subgroups.html"><a href="summarizing-data-within-subgroups.html#using-dplyr-and-summarise-to-build-a-tibble-of-summary-information"><i class="fa fa-check"></i><b>10.1</b> Using dplyr and summarise to build a tibble of summary information</a></li>
<li class="chapter" data-level="10.2" data-path="summarizing-data-within-subgroups.html"><a href="summarizing-data-within-subgroups.html#another-example"><i class="fa fa-check"></i><b>10.2</b> Another Example</a></li>
<li class="chapter" data-level="10.3" data-path="summarizing-data-within-subgroups.html"><a href="summarizing-data-within-subgroups.html#boxplots-to-relate-an-outcome-to-a-categorical-predictor"><i class="fa fa-check"></i><b>10.3</b> Boxplots to Relate an Outcome to a Categorical Predictor</a><ul>
<li class="chapter" data-level="10.3.1" data-path="summarizing-data-within-subgroups.html"><a href="summarizing-data-within-subgroups.html#augmenting-the-boxplot-with-the-sample-mean"><i class="fa fa-check"></i><b>10.3.1</b> Augmenting the Boxplot with the Sample Mean</a></li>
<li class="chapter" data-level="10.3.2" data-path="summarizing-data-within-subgroups.html"><a href="summarizing-data-within-subgroups.html#building-a-violin-plot"><i class="fa fa-check"></i><b>10.3.2</b> Building a Violin Plot</a></li>
<li class="chapter" data-level="10.3.3" data-path="summarizing-data-within-subgroups.html"><a href="summarizing-data-within-subgroups.html#adding-notches-to-a-boxplot"><i class="fa fa-check"></i><b>10.3.3</b> Adding Notches to a Boxplot</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="summarizing-data-within-subgroups.html"><a href="summarizing-data-within-subgroups.html#using-multiple-histograms-to-make-comparisons"><i class="fa fa-check"></i><b>10.4</b> Using Multiple Histograms to Make Comparisons</a></li>
<li class="chapter" data-level="10.5" data-path="summarizing-data-within-subgroups.html"><a href="summarizing-data-within-subgroups.html#using-multiple-density-plots-to-make-comparisons"><i class="fa fa-check"></i><b>10.5</b> Using Multiple Density Plots to Make Comparisons</a></li>
<li class="chapter" data-level="10.6" data-path="summarizing-data-within-subgroups.html"><a href="summarizing-data-within-subgroups.html#a-ridgeline-plot"><i class="fa fa-check"></i><b>10.6</b> A Ridgeline Plot</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="straight-line-models-and-correlation.html"><a href="straight-line-models-and-correlation.html"><i class="fa fa-check"></i><b>11</b> Straight Line Models and Correlation</a><ul>
<li class="chapter" data-level="11.1" data-path="straight-line-models-and-correlation.html"><a href="straight-line-models-and-correlation.html#assessing-a-scatterplot"><i class="fa fa-check"></i><b>11.1</b> Assessing A Scatterplot</a><ul>
<li class="chapter" data-level="11.1.1" data-path="straight-line-models-and-correlation.html"><a href="straight-line-models-and-correlation.html#highlighting-an-unusual-point"><i class="fa fa-check"></i><b>11.1.1</b> Highlighting an unusual point</a></li>
<li class="chapter" data-level="11.1.2" data-path="straight-line-models-and-correlation.html"><a href="straight-line-models-and-correlation.html#adding-a-scatterplot-smooth-using-loess"><i class="fa fa-check"></i><b>11.1.2</b> Adding a Scatterplot Smooth using loess</a></li>
<li class="chapter" data-level="11.1.3" data-path="straight-line-models-and-correlation.html"><a href="straight-line-models-and-correlation.html#what-line-does-r-fit"><i class="fa fa-check"></i><b>11.1.3</b> What Line Does R Fit?</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="straight-line-models-and-correlation.html"><a href="straight-line-models-and-correlation.html#correlation-coefficients"><i class="fa fa-check"></i><b>11.2</b> Correlation Coefficients</a></li>
<li class="chapter" data-level="11.3" data-path="straight-line-models-and-correlation.html"><a href="straight-line-models-and-correlation.html#the-pearson-correlation-coefficient"><i class="fa fa-check"></i><b>11.3</b> The Pearson Correlation Coefficient</a></li>
<li class="chapter" data-level="11.4" data-path="straight-line-models-and-correlation.html"><a href="straight-line-models-and-correlation.html#a-simulated-example"><i class="fa fa-check"></i><b>11.4</b> A simulated example</a><ul>
<li class="chapter" data-level="11.4.1" data-path="straight-line-models-and-correlation.html"><a href="straight-line-models-and-correlation.html#data-set-alex"><i class="fa fa-check"></i><b>11.4.1</b> Data Set Alex</a></li>
<li class="chapter" data-level="11.4.2" data-path="straight-line-models-and-correlation.html"><a href="straight-line-models-and-correlation.html#data-set-bonnie"><i class="fa fa-check"></i><b>11.4.2</b> Data Set Bonnie</a></li>
<li class="chapter" data-level="11.4.3" data-path="straight-line-models-and-correlation.html"><a href="straight-line-models-and-correlation.html#correlations-for-all-six-data-sets-in-the-correx1-example"><i class="fa fa-check"></i><b>11.4.3</b> Correlations for All Six Data Sets in the Correx1 Example</a></li>
<li class="chapter" data-level="11.4.4" data-path="straight-line-models-and-correlation.html"><a href="straight-line-models-and-correlation.html#data-set-colin"><i class="fa fa-check"></i><b>11.4.4</b> Data Set Colin</a></li>
<li class="chapter" data-level="11.4.5" data-path="straight-line-models-and-correlation.html"><a href="straight-line-models-and-correlation.html#draw-the-picture"><i class="fa fa-check"></i><b>11.4.5</b> Draw the Picture!</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="straight-line-models-and-correlation.html"><a href="straight-line-models-and-correlation.html#estimating-correlation-from-scatterplots"><i class="fa fa-check"></i><b>11.5</b> Estimating Correlation from Scatterplots</a></li>
<li class="chapter" data-level="11.6" data-path="straight-line-models-and-correlation.html"><a href="straight-line-models-and-correlation.html#the-spearman-rank-correlation"><i class="fa fa-check"></i><b>11.6</b> The Spearman Rank Correlation</a><ul>
<li class="chapter" data-level="11.6.1" data-path="straight-line-models-and-correlation.html"><a href="straight-line-models-and-correlation.html#spearman-formula"><i class="fa fa-check"></i><b>11.6.1</b> Spearman Formula</a></li>
<li class="chapter" data-level="11.6.2" data-path="straight-line-models-and-correlation.html"><a href="straight-line-models-and-correlation.html#comparing-pearson-and-spearman-correlations"><i class="fa fa-check"></i><b>11.6.2</b> Comparing Pearson and Spearman Correlations</a></li>
<li class="chapter" data-level="11.6.3" data-path="straight-line-models-and-correlation.html"><a href="straight-line-models-and-correlation.html#spearman-vs.-pearson-example-1"><i class="fa fa-check"></i><b>11.6.3</b> Spearman vs. Pearson Example 1</a></li>
<li class="chapter" data-level="11.6.4" data-path="straight-line-models-and-correlation.html"><a href="straight-line-models-and-correlation.html#spearman-vs.-pearson-example-2"><i class="fa fa-check"></i><b>11.6.4</b> Spearman vs. Pearson Example 2</a></li>
<li class="chapter" data-level="11.6.5" data-path="straight-line-models-and-correlation.html"><a href="straight-line-models-and-correlation.html#spearman-vs.-pearson-example-3"><i class="fa fa-check"></i><b>11.6.5</b> Spearman vs. Pearson Example 3</a></li>
<li class="chapter" data-level="11.6.6" data-path="straight-line-models-and-correlation.html"><a href="straight-line-models-and-correlation.html#spearman-vs.-pearson-example-4"><i class="fa fa-check"></i><b>11.6.6</b> Spearman vs. Pearson Example 4</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="studying-crab-claws-crabs.html"><a href="studying-crab-claws-crabs.html"><i class="fa fa-check"></i><b>12</b> Studying Crab Claws (<code>crabs</code>)</a><ul>
<li class="chapter" data-level="12.1" data-path="studying-crab-claws-crabs.html"><a href="studying-crab-claws-crabs.html#association-of-size-and-force"><i class="fa fa-check"></i><b>12.1</b> Association of Size and Force</a></li>
<li class="chapter" data-level="12.2" data-path="studying-crab-claws-crabs.html"><a href="studying-crab-claws-crabs.html#loess_smooth"><i class="fa fa-check"></i><b>12.2</b> The <code>loess</code> smooth</a><ul>
<li class="chapter" data-level="12.2.1" data-path="studying-crab-claws-crabs.html"><a href="studying-crab-claws-crabs.html#smoothing-within-species"><i class="fa fa-check"></i><b>12.2.1</b> Smoothing within Species</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="studying-crab-claws-crabs.html"><a href="studying-crab-claws-crabs.html#fitting-a-linear-regression-model"><i class="fa fa-check"></i><b>12.3</b> Fitting a Linear Regression Model</a></li>
<li class="chapter" data-level="12.4" data-path="studying-crab-claws-crabs.html"><a href="studying-crab-claws-crabs.html#is-a-linear-model-appropriate"><i class="fa fa-check"></i><b>12.4</b> Is a Linear Model Appropriate?</a><ul>
<li class="chapter" data-level="12.4.1" data-path="studying-crab-claws-crabs.html"><a href="studying-crab-claws-crabs.html#the-log-log-model"><i class="fa fa-check"></i><b>12.4.1</b> The log-log model</a></li>
<li class="chapter" data-level="12.4.2" data-path="studying-crab-claws-crabs.html"><a href="studying-crab-claws-crabs.html#how-does-this-compare-to-our-original-linear-model"><i class="fa fa-check"></i><b>12.4.2</b> How does this compare to our original linear model?</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="studying-crab-claws-crabs.html"><a href="studying-crab-claws-crabs.html#making-predictions-with-a-model"><i class="fa fa-check"></i><b>12.5</b> Making Predictions with a Model</a><ul>
<li class="chapter" data-level="12.5.1" data-path="studying-crab-claws-crabs.html"><a href="studying-crab-claws-crabs.html#predictions-after-a-transformation"><i class="fa fa-check"></i><b>12.5.1</b> Predictions After a Transformation</a></li>
<li class="chapter" data-level="12.5.2" data-path="studying-crab-claws-crabs.html"><a href="studying-crab-claws-crabs.html#comparing-model-predictions"><i class="fa fa-check"></i><b>12.5.2</b> Comparing Model Predictions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="WCGS-Study.html"><a href="WCGS-Study.html"><i class="fa fa-check"></i><b>13</b> The Western Collaborative Group Study</a><ul>
<li class="chapter" data-level="13.1" data-path="WCGS-Study.html"><a href="WCGS-Study.html#the-western-collaborative-group-study-wcgs-data-set"><i class="fa fa-check"></i><b>13.1</b> The Western Collaborative Group Study (<code>wcgs</code>) data set</a><ul>
<li class="chapter" data-level="13.1.1" data-path="WCGS-Study.html"><a href="WCGS-Study.html#structure-of-wcgs"><i class="fa fa-check"></i><b>13.1.1</b> Structure of <code>wcgs</code></a></li>
<li class="chapter" data-level="13.1.2" data-path="WCGS-Study.html"><a href="WCGS-Study.html#codebook-for-wcgs"><i class="fa fa-check"></i><b>13.1.2</b> Codebook for <code>wcgs</code></a></li>
<li class="chapter" data-level="13.1.3" data-path="WCGS-Study.html"><a href="WCGS-Study.html#quick-summary"><i class="fa fa-check"></i><b>13.1.3</b> Quick Summary</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="WCGS-Study.html"><a href="WCGS-Study.html#are-the-sbps-normally-distributed"><i class="fa fa-check"></i><b>13.2</b> Are the SBPs Normally Distributed?</a></li>
<li class="chapter" data-level="13.3" data-path="WCGS-Study.html"><a href="WCGS-Study.html#identifying-and-describing-sbp-outliers"><i class="fa fa-check"></i><b>13.3</b> Identifying and Describing SBP outliers</a></li>
<li class="chapter" data-level="13.4" data-path="WCGS-Study.html"><a href="WCGS-Study.html#does-weight-category-relate-to-sbp"><i class="fa fa-check"></i><b>13.4</b> Does Weight Category Relate to SBP?</a></li>
<li class="chapter" data-level="13.5" data-path="WCGS-Study.html"><a href="WCGS-Study.html#re-leveling-a-factor"><i class="fa fa-check"></i><b>13.5</b> Re-Leveling a Factor</a><ul>
<li class="chapter" data-level="13.5.1" data-path="WCGS-Study.html"><a href="WCGS-Study.html#sbp-by-weight-category"><i class="fa fa-check"></i><b>13.5.1</b> SBP by Weight Category</a></li>
</ul></li>
<li class="chapter" data-level="13.6" data-path="WCGS-Study.html"><a href="WCGS-Study.html#are-weight-and-sbp-linked"><i class="fa fa-check"></i><b>13.6</b> Are Weight and SBP Linked?</a></li>
<li class="chapter" data-level="13.7" data-path="WCGS-Study.html"><a href="WCGS-Study.html#sbp-and-weight-by-arcus-senilis-groups"><i class="fa fa-check"></i><b>13.7</b> SBP and Weight by Arcus Senilis groups?</a></li>
<li class="chapter" data-level="13.8" data-path="WCGS-Study.html"><a href="WCGS-Study.html#linear-model-for-sbp-weight-relationship-subjects-without-arcus-senilis"><i class="fa fa-check"></i><b>13.8</b> Linear Model for SBP-Weight Relationship: subjects without Arcus Senilis</a></li>
<li class="chapter" data-level="13.9" data-path="WCGS-Study.html"><a href="WCGS-Study.html#linear-model-for-sbp-weight-relationship-subjects-with-arcus-senilis"><i class="fa fa-check"></i><b>13.9</b> Linear Model for SBP-Weight Relationship: subjects with Arcus Senilis</a></li>
<li class="chapter" data-level="13.10" data-path="WCGS-Study.html"><a href="WCGS-Study.html#including-arcus-status-in-the-model"><i class="fa fa-check"></i><b>13.10</b> Including Arcus Status in the model</a></li>
<li class="chapter" data-level="13.11" data-path="WCGS-Study.html"><a href="WCGS-Study.html#predictions-from-these-linear-models"><i class="fa fa-check"></i><b>13.11</b> Predictions from these Linear Models</a></li>
<li class="chapter" data-level="13.12" data-path="WCGS-Study.html"><a href="WCGS-Study.html#scatterplots-with-facets-across-a-categorical-variable"><i class="fa fa-check"></i><b>13.12</b> Scatterplots with Facets Across a Categorical Variable</a></li>
<li class="chapter" data-level="13.13" data-path="WCGS-Study.html"><a href="WCGS-Study.html#scatterplot-and-correlation-matrices"><i class="fa fa-check"></i><b>13.13</b> Scatterplot and Correlation Matrices</a><ul>
<li class="chapter" data-level="13.13.1" data-path="WCGS-Study.html"><a href="WCGS-Study.html#displaying-a-correlation-matrix"><i class="fa fa-check"></i><b>13.13.1</b> Displaying a Correlation Matrix</a></li>
<li class="chapter" data-level="13.13.2" data-path="WCGS-Study.html"><a href="WCGS-Study.html#using-the-ggally-package"><i class="fa fa-check"></i><b>13.13.2</b> Using the <code>GGally</code> package</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="re-expression-tukeys-ladder-box-cox-plot.html"><a href="re-expression-tukeys-ladder-box-cox-plot.html"><i class="fa fa-check"></i><b>14</b> Re-Expression, Tukey’s Ladder &amp; Box-Cox Plot</a><ul>
<li class="chapter" data-level="14.1" data-path="re-expression-tukeys-ladder-box-cox-plot.html"><a href="re-expression-tukeys-ladder-box-cox-plot.html#linearize-the-association-between-quantitative-variables"><i class="fa fa-check"></i><b>14.1</b> “Linearize” The Association between Quantitative Variables</a></li>
<li class="chapter" data-level="14.2" data-path="re-expression-tukeys-ladder-box-cox-plot.html"><a href="re-expression-tukeys-ladder-box-cox-plot.html#a-new-tool-the-box-cox-plot"><i class="fa fa-check"></i><b>14.2</b> A New Tool: the Box-Cox Plot</a><ul>
<li class="chapter" data-level="14.2.1" data-path="re-expression-tukeys-ladder-box-cox-plot.html"><a href="re-expression-tukeys-ladder-box-cox-plot.html#a-few-caveats"><i class="fa fa-check"></i><b>14.2.1</b> A Few Caveats</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="straight-line-models-and-correlation.html"><a href="straight-line-models-and-correlation.html#a-simulated-example"><i class="fa fa-check"></i><b>14.3</b> A Simulated Example</a></li>
<li class="chapter" data-level="14.4" data-path="re-expression-tukeys-ladder-box-cox-plot.html"><a href="re-expression-tukeys-ladder-box-cox-plot.html#checking-on-a-transformation-or-re-expression"><i class="fa fa-check"></i><b>14.4</b> Checking on a Transformation or Re-Expression</a><ul>
<li class="chapter" data-level="14.4.1" data-path="re-expression-tukeys-ladder-box-cox-plot.html"><a href="re-expression-tukeys-ladder-box-cox-plot.html#checking-the-correlation-coefficients"><i class="fa fa-check"></i><b>14.4.1</b> Checking the Correlation Coefficients</a></li>
<li class="chapter" data-level="14.4.2" data-path="re-expression-tukeys-ladder-box-cox-plot.html"><a href="re-expression-tukeys-ladder-box-cox-plot.html#using-the-testtransform-function"><i class="fa fa-check"></i><b>14.4.2</b> Using the <code>testTransform</code> function</a></li>
<li class="chapter" data-level="14.4.3" data-path="re-expression-tukeys-ladder-box-cox-plot.html"><a href="re-expression-tukeys-ladder-box-cox-plot.html#comparing-the-residual-plots"><i class="fa fa-check"></i><b>14.4.3</b> Comparing the Residual Plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="dehydration-recovery-in-kids-a-small-study.html"><a href="dehydration-recovery-in-kids-a-small-study.html"><i class="fa fa-check"></i><b>15</b> Dehydration Recovery in Kids: A Small Study</a><ul>
<li class="chapter" data-level="15.1" data-path="dehydration-recovery-in-kids-a-small-study.html"><a href="dehydration-recovery-in-kids-a-small-study.html#a-scatterplot-matrix"><i class="fa fa-check"></i><b>15.1</b> A Scatterplot Matrix</a></li>
<li class="chapter" data-level="15.2" data-path="dehydration-recovery-in-kids-a-small-study.html"><a href="dehydration-recovery-in-kids-a-small-study.html#are-the-recovery-scores-well-described-by-a-normal-model"><i class="fa fa-check"></i><b>15.2</b> Are the recovery scores well described by a Normal model?</a></li>
<li class="chapter" data-level="15.3" data-path="dehydration-recovery-in-kids-a-small-study.html"><a href="dehydration-recovery-in-kids-a-small-study.html#simple-regression-using-dose-to-predict-recovery"><i class="fa fa-check"></i><b>15.3</b> Simple Regression: Using Dose to predict Recovery</a></li>
<li class="chapter" data-level="15.4" data-path="dehydration-recovery-in-kids-a-small-study.html"><a href="dehydration-recovery-in-kids-a-small-study.html#the-scatterplot-with-fitted-linear-model"><i class="fa fa-check"></i><b>15.4</b> The Scatterplot, with fitted Linear Model</a></li>
<li class="chapter" data-level="15.5" data-path="dehydration-recovery-in-kids-a-small-study.html"><a href="dehydration-recovery-in-kids-a-small-study.html#the-fitted-linear-model"><i class="fa fa-check"></i><b>15.5</b> The Fitted Linear Model</a><ul>
<li class="chapter" data-level="15.5.1" data-path="dehydration-recovery-in-kids-a-small-study.html"><a href="dehydration-recovery-in-kids-a-small-study.html#confidence-intervals"><i class="fa fa-check"></i><b>15.5.1</b> Confidence Intervals</a></li>
</ul></li>
<li class="chapter" data-level="15.6" data-path="dehydration-recovery-in-kids-a-small-study.html"><a href="dehydration-recovery-in-kids-a-small-study.html#the-summary-output"><i class="fa fa-check"></i><b>15.6</b> The Summary Output</a><ul>
<li class="chapter" data-level="15.6.1" data-path="dehydration-recovery-in-kids-a-small-study.html"><a href="dehydration-recovery-in-kids-a-small-study.html#model-specification"><i class="fa fa-check"></i><b>15.6.1</b> Model Specification</a></li>
<li class="chapter" data-level="15.6.2" data-path="dehydration-recovery-in-kids-a-small-study.html"><a href="dehydration-recovery-in-kids-a-small-study.html#residual-summary"><i class="fa fa-check"></i><b>15.6.2</b> Residual Summary</a></li>
<li class="chapter" data-level="15.6.3" data-path="dehydration-recovery-in-kids-a-small-study.html"><a href="dehydration-recovery-in-kids-a-small-study.html#coefficients-output"><i class="fa fa-check"></i><b>15.6.3</b> Coefficients Output</a></li>
<li class="chapter" data-level="15.6.4" data-path="dehydration-recovery-in-kids-a-small-study.html"><a href="dehydration-recovery-in-kids-a-small-study.html#correlation-and-slope"><i class="fa fa-check"></i><b>15.6.4</b> Correlation and Slope</a></li>
<li class="chapter" data-level="15.6.5" data-path="dehydration-recovery-in-kids-a-small-study.html"><a href="dehydration-recovery-in-kids-a-small-study.html#coefficient-testing"><i class="fa fa-check"></i><b>15.6.5</b> Coefficient Testing</a></li>
<li class="chapter" data-level="15.6.6" data-path="dehydration-recovery-in-kids-a-small-study.html"><a href="dehydration-recovery-in-kids-a-small-study.html#summarizing-the-quality-of-fit"><i class="fa fa-check"></i><b>15.6.6</b> Summarizing the Quality of Fit</a></li>
<li class="chapter" data-level="15.6.7" data-path="dehydration-recovery-in-kids-a-small-study.html"><a href="dehydration-recovery-in-kids-a-small-study.html#anova-f-test"><i class="fa fa-check"></i><b>15.6.7</b> ANOVA F test</a></li>
</ul></li>
<li class="chapter" data-level="15.7" data-path="dehydration-recovery-in-kids-a-small-study.html"><a href="dehydration-recovery-in-kids-a-small-study.html#viewing-the-complete-anova-table"><i class="fa fa-check"></i><b>15.7</b> Viewing the complete ANOVA table</a></li>
<li class="chapter" data-level="15.8" data-path="dehydration-recovery-in-kids-a-small-study.html"><a href="dehydration-recovery-in-kids-a-small-study.html#plotting-residuals-vs.-fitted-values"><i class="fa fa-check"></i><b>15.8</b> Plotting Residuals vs. Fitted Values</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="highlights-of-what-weve-seen-so-far.html"><a href="highlights-of-what-weve-seen-so-far.html"><i class="fa fa-check"></i><b>16</b> Highlights of What We’ve Seen So Far</a><ul>
<li class="chapter" data-level="16.1" data-path="highlights-of-what-weve-seen-so-far.html"><a href="highlights-of-what-weve-seen-so-far.html#key-graphical-descriptive-summaries-for-quantitative-data"><i class="fa fa-check"></i><b>16.1</b> Key Graphical Descriptive Summaries for Quantitative Data</a></li>
<li class="chapter" data-level="16.2" data-path="highlights-of-what-weve-seen-so-far.html"><a href="highlights-of-what-weve-seen-so-far.html#key-numerical-descriptive-summaries-for-quantitative-data"><i class="fa fa-check"></i><b>16.2</b> Key Numerical Descriptive Summaries for Quantitative Data</a></li>
<li class="chapter" data-level="16.3" data-path="highlights-of-what-weve-seen-so-far.html"><a href="highlights-of-what-weve-seen-so-far.html#the-empirical-rule---interpreting-a-standard-deviation"><i class="fa fa-check"></i><b>16.3</b> The Empirical Rule - Interpreting a Standard Deviation</a></li>
<li class="chapter" data-level="16.4" data-path="highlights-of-what-weve-seen-so-far.html"><a href="highlights-of-what-weve-seen-so-far.html#identifying-outliers-using-fences-andor-z-scores"><i class="fa fa-check"></i><b>16.4</b> Identifying “Outliers” Using Fences and/or Z Scores</a></li>
<li class="chapter" data-level="16.5" data-path="highlights-of-what-weve-seen-so-far.html"><a href="highlights-of-what-weve-seen-so-far.html#summarizing-bivariate-associations-scatterplots-and-regression-lines"><i class="fa fa-check"></i><b>16.5</b> Summarizing Bivariate Associations: Scatterplots and Regression Lines</a></li>
<li class="chapter" data-level="16.6" data-path="highlights-of-what-weve-seen-so-far.html"><a href="highlights-of-what-weve-seen-so-far.html#summarizing-bivariate-associations-with-correlations"><i class="fa fa-check"></i><b>16.6</b> Summarizing Bivariate Associations With Correlations</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science for Biological, Medical and Health Research: Notes for PQHS/CRSP/MPHP 431</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="summarizing-data-within-subgroups" class="section level1">
<h1><span class="header-section-number">Chapter 10</span> Summarizing data within subgroups</h1>
<div id="using-dplyr-and-summarise-to-build-a-tibble-of-summary-information" class="section level2">
<h2><span class="header-section-number">10.1</span> Using dplyr and summarise to build a tibble of summary information</h2>
<p>Suppose we want to understand how the subjects whose diet involved consuming much more than usual yesterday compare to those who consumer their usual amount, or to those who consumed much less than usual, in terms of the energy they consumed, as well as the protein. We might start by looking at the medians and means.</p>
<div class="sourceCode" id="cb284"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb284-1"><a href="summarizing-data-within-subgroups.html#cb284-1"></a>nnyfs <span class="op">%&gt;%</span></span>
<span id="cb284-2"><a href="summarizing-data-within-subgroups.html#cb284-2"></a><span class="st">    </span><span class="kw">group_by</span>(diet_yesterday) <span class="op">%&gt;%</span></span>
<span id="cb284-3"><a href="summarizing-data-within-subgroups.html#cb284-3"></a><span class="st">    </span><span class="kw">select</span>(diet_yesterday, energy, protein) <span class="op">%&gt;%</span></span>
<span id="cb284-4"><a href="summarizing-data-within-subgroups.html#cb284-4"></a><span class="st">    </span><span class="kw">summarise_all</span>(<span class="kw">list</span>(<span class="dt">median =</span> median, <span class="dt">mean =</span> mean))</span></code></pre></div>
<pre><code># A tibble: 4 x 5
  diet_yesterday         energy_median protein_median energy_mean protein_mean
  &lt;chr&gt;                          &lt;dbl&gt;          &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;
1 1_Much more than usual          2098           69.4       2150.         75.1
2 2_Usual                         1794           61.3       1858.         67.0
3 3_Much less than usual          1643           53.9       1779.         60.1
4 &lt;NA&gt;                            4348          155.        4348         155. </code></pre>
<p>Perhaps we should restrict ourselves to the people who were not missing the <code>diet_yesterday</code> category, and look now at their <code>sugar</code> and <code>water</code> consumption.</p>
<div class="sourceCode" id="cb286"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb286-1"><a href="summarizing-data-within-subgroups.html#cb286-1"></a>nnyfs <span class="op">%&gt;%</span></span>
<span id="cb286-2"><a href="summarizing-data-within-subgroups.html#cb286-2"></a><span class="st">    </span><span class="kw">filter</span>(<span class="kw">complete.cases</span>(diet_yesterday)) <span class="op">%&gt;%</span></span>
<span id="cb286-3"><a href="summarizing-data-within-subgroups.html#cb286-3"></a><span class="st">    </span><span class="kw">group_by</span>(diet_yesterday) <span class="op">%&gt;%</span></span>
<span id="cb286-4"><a href="summarizing-data-within-subgroups.html#cb286-4"></a><span class="st">    </span><span class="kw">select</span>(diet_yesterday, energy, protein, sugar, water) <span class="op">%&gt;%</span></span>
<span id="cb286-5"><a href="summarizing-data-within-subgroups.html#cb286-5"></a><span class="st">    </span><span class="kw">summarise_all</span>(<span class="kw">list</span>(median))</span></code></pre></div>
<pre><code># A tibble: 3 x 5
  diet_yesterday         energy protein sugar water
  &lt;chr&gt;                   &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 1_Much more than usual   2098    69.4  137.  500 
2 2_Usual                  1794    61.3  114.  385.
3 3_Much less than usual   1643    53.9  115.  311.</code></pre>
<p>It looks like the children in the “Much more than usual” category consumed more energy, protein, sugar and water than the children in the other two categories. Let’s draw a picture of this.</p>
<div class="sourceCode" id="cb288"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb288-1"><a href="summarizing-data-within-subgroups.html#cb288-1"></a>temp_dat &lt;-<span class="st"> </span>nnyfs <span class="op">%&gt;%</span></span>
<span id="cb288-2"><a href="summarizing-data-within-subgroups.html#cb288-2"></a><span class="st">    </span><span class="kw">filter</span>(<span class="kw">complete.cases</span>(diet_yesterday)) <span class="op">%&gt;%</span></span>
<span id="cb288-3"><a href="summarizing-data-within-subgroups.html#cb288-3"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">diet_yesterday =</span> <span class="kw">fct_recode</span>(diet_yesterday,</span>
<span id="cb288-4"><a href="summarizing-data-within-subgroups.html#cb288-4"></a>        <span class="st">&quot;Much more&quot;</span> =<span class="st"> &quot;1_Much more than usual&quot;</span>,</span>
<span id="cb288-5"><a href="summarizing-data-within-subgroups.html#cb288-5"></a>        <span class="st">&quot;Usual diet&quot;</span> =<span class="st"> &quot;2_Usual&quot;</span>,</span>
<span id="cb288-6"><a href="summarizing-data-within-subgroups.html#cb288-6"></a>        <span class="st">&quot;Much less&quot;</span> =<span class="st"> &quot;3_Much less than usual&quot;</span>))</span>
<span id="cb288-7"><a href="summarizing-data-within-subgroups.html#cb288-7"></a></span>
<span id="cb288-8"><a href="summarizing-data-within-subgroups.html#cb288-8"></a>p1 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(temp_dat, <span class="kw">aes</span>(<span class="dt">x =</span> diet_yesterday, <span class="dt">y =</span> energy)) <span class="op">+</span></span>
<span id="cb288-9"><a href="summarizing-data-within-subgroups.html#cb288-9"></a><span class="st">    </span><span class="kw">geom_violin</span>() <span class="op">+</span></span>
<span id="cb288-10"><a href="summarizing-data-within-subgroups.html#cb288-10"></a><span class="st">    </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> diet_yesterday), <span class="dt">width =</span> <span class="fl">0.2</span>) <span class="op">+</span></span>
<span id="cb288-11"><a href="summarizing-data-within-subgroups.html#cb288-11"></a><span class="st">    </span><span class="kw">theme_light</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb288-12"><a href="summarizing-data-within-subgroups.html#cb288-12"></a><span class="st">    </span><span class="kw">scale_fill_viridis_d</span>() <span class="op">+</span></span>
<span id="cb288-13"><a href="summarizing-data-within-subgroups.html#cb288-13"></a><span class="st">    </span><span class="kw">guides</span>(<span class="dt">fill =</span> <span class="ot">FALSE</span>) <span class="op">+</span></span>
<span id="cb288-14"><a href="summarizing-data-within-subgroups.html#cb288-14"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Energy Comparison&quot;</span>)</span>
<span id="cb288-15"><a href="summarizing-data-within-subgroups.html#cb288-15"></a></span>
<span id="cb288-16"><a href="summarizing-data-within-subgroups.html#cb288-16"></a>p2 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(temp_dat, <span class="kw">aes</span>(<span class="dt">x =</span> diet_yesterday, <span class="dt">y =</span> protein)) <span class="op">+</span></span>
<span id="cb288-17"><a href="summarizing-data-within-subgroups.html#cb288-17"></a><span class="st">    </span><span class="kw">geom_violin</span>() <span class="op">+</span></span>
<span id="cb288-18"><a href="summarizing-data-within-subgroups.html#cb288-18"></a><span class="st">    </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> diet_yesterday), <span class="dt">width =</span> <span class="fl">0.2</span>) <span class="op">+</span></span>
<span id="cb288-19"><a href="summarizing-data-within-subgroups.html#cb288-19"></a><span class="st">    </span><span class="kw">theme_light</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb288-20"><a href="summarizing-data-within-subgroups.html#cb288-20"></a><span class="st">    </span><span class="kw">scale_fill_viridis_d</span>() <span class="op">+</span></span>
<span id="cb288-21"><a href="summarizing-data-within-subgroups.html#cb288-21"></a><span class="st">    </span><span class="kw">guides</span>(<span class="dt">fill =</span> <span class="ot">FALSE</span>) <span class="op">+</span></span>
<span id="cb288-22"><a href="summarizing-data-within-subgroups.html#cb288-22"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Protein Comparison&quot;</span>)</span>
<span id="cb288-23"><a href="summarizing-data-within-subgroups.html#cb288-23"></a></span>
<span id="cb288-24"><a href="summarizing-data-within-subgroups.html#cb288-24"></a>p3 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(temp_dat, <span class="kw">aes</span>(<span class="dt">x =</span> diet_yesterday, <span class="dt">y =</span> sugar)) <span class="op">+</span></span>
<span id="cb288-25"><a href="summarizing-data-within-subgroups.html#cb288-25"></a><span class="st">    </span><span class="kw">geom_violin</span>() <span class="op">+</span></span>
<span id="cb288-26"><a href="summarizing-data-within-subgroups.html#cb288-26"></a><span class="st">    </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> diet_yesterday), <span class="dt">width =</span> <span class="fl">0.2</span>) <span class="op">+</span></span>
<span id="cb288-27"><a href="summarizing-data-within-subgroups.html#cb288-27"></a><span class="st">    </span><span class="kw">theme_light</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb288-28"><a href="summarizing-data-within-subgroups.html#cb288-28"></a><span class="st">    </span><span class="kw">scale_fill_viridis_d</span>() <span class="op">+</span></span>
<span id="cb288-29"><a href="summarizing-data-within-subgroups.html#cb288-29"></a><span class="st">    </span><span class="kw">guides</span>(<span class="dt">fill =</span> <span class="ot">FALSE</span>) <span class="op">+</span></span>
<span id="cb288-30"><a href="summarizing-data-within-subgroups.html#cb288-30"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Sugar Comparison&quot;</span>)</span>
<span id="cb288-31"><a href="summarizing-data-within-subgroups.html#cb288-31"></a></span>
<span id="cb288-32"><a href="summarizing-data-within-subgroups.html#cb288-32"></a>p4 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(temp_dat, <span class="kw">aes</span>(<span class="dt">x =</span> diet_yesterday, <span class="dt">y =</span> water)) <span class="op">+</span></span>
<span id="cb288-33"><a href="summarizing-data-within-subgroups.html#cb288-33"></a><span class="st">    </span><span class="kw">geom_violin</span>() <span class="op">+</span></span>
<span id="cb288-34"><a href="summarizing-data-within-subgroups.html#cb288-34"></a><span class="st">    </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> diet_yesterday), <span class="dt">width =</span> <span class="fl">0.2</span>) <span class="op">+</span></span>
<span id="cb288-35"><a href="summarizing-data-within-subgroups.html#cb288-35"></a><span class="st">    </span><span class="kw">theme_light</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb288-36"><a href="summarizing-data-within-subgroups.html#cb288-36"></a><span class="st">    </span><span class="kw">scale_fill_viridis_d</span>() <span class="op">+</span></span>
<span id="cb288-37"><a href="summarizing-data-within-subgroups.html#cb288-37"></a><span class="st">    </span><span class="kw">guides</span>(<span class="dt">fill =</span> <span class="ot">FALSE</span>) <span class="op">+</span></span>
<span id="cb288-38"><a href="summarizing-data-within-subgroups.html#cb288-38"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Water Comparison&quot;</span>)</span>
<span id="cb288-39"><a href="summarizing-data-within-subgroups.html#cb288-39"></a></span>
<span id="cb288-40"><a href="summarizing-data-within-subgroups.html#cb288-40"></a>p1 <span class="op">+</span><span class="st"> </span>p2 <span class="op">+</span><span class="st"> </span>p3 <span class="op">+</span><span class="st"> </span>p4</span></code></pre></div>
<p><img src="431-notes_files/figure-html/unnamed-chunk-60-1.png" width="672" /></p>
<p>We can see that there is considerable overlap in these distributions, regardless of what we’re measuring.</p>
</div>
<div id="another-example" class="section level2">
<h2><span class="header-section-number">10.2</span> Another Example</h2>
<p>Suppose now that we ask a different question. Do kids in larger categories of BMI have larger waist circumferences?</p>
<div class="sourceCode" id="cb289"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb289-1"><a href="summarizing-data-within-subgroups.html#cb289-1"></a>nnyfs <span class="op">%&gt;%</span></span>
<span id="cb289-2"><a href="summarizing-data-within-subgroups.html#cb289-2"></a><span class="st">    </span><span class="kw">group_by</span>(bmi_cat) <span class="op">%&gt;%</span></span>
<span id="cb289-3"><a href="summarizing-data-within-subgroups.html#cb289-3"></a><span class="st">    </span><span class="kw">summarise</span>(<span class="dt">mean =</span> <span class="kw">mean</span>(waist), <span class="dt">sd =</span> <span class="kw">sd</span>(waist), </span>
<span id="cb289-4"><a href="summarizing-data-within-subgroups.html#cb289-4"></a>              <span class="dt">median =</span> <span class="kw">median</span>(waist), </span>
<span id="cb289-5"><a href="summarizing-data-within-subgroups.html#cb289-5"></a>              <span class="dt">skew_1 =</span> <span class="kw">round</span>((<span class="kw">mean</span>(waist) <span class="op">-</span><span class="st"> </span><span class="kw">median</span>(waist)) <span class="op">/</span><span class="st"> </span></span>
<span id="cb289-6"><a href="summarizing-data-within-subgroups.html#cb289-6"></a><span class="st">                                 </span><span class="kw">sd</span>(waist),<span class="dv">2</span>))</span></code></pre></div>
<pre><code>`summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre><code># A tibble: 5 x 5
  bmi_cat        mean    sd median skew_1
  &lt;chr&gt;         &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
1 1_Underweight  55.2  7.58   54.5   0.09
2 2_Normal       NA   NA      NA    NA   
3 3_Overweight   72.3 11.9    74    -0.14
4 4_Obese        NA   NA      NA    NA   
5 &lt;NA&gt;           NA   NA      NA    NA   </code></pre>
<p>Oops. Looks like we need to filter for cases with complete data on both BMI category and waist circumference in order to get meaningful results. We should add a count, too.</p>
<div class="sourceCode" id="cb292"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb292-1"><a href="summarizing-data-within-subgroups.html#cb292-1"></a>nnyfs <span class="op">%&gt;%</span></span>
<span id="cb292-2"><a href="summarizing-data-within-subgroups.html#cb292-2"></a><span class="st">    </span><span class="kw">filter</span>(<span class="kw">complete.cases</span>(bmi_cat, waist)) <span class="op">%&gt;%</span></span>
<span id="cb292-3"><a href="summarizing-data-within-subgroups.html#cb292-3"></a><span class="st">    </span><span class="kw">group_by</span>(bmi_cat) <span class="op">%&gt;%</span></span>
<span id="cb292-4"><a href="summarizing-data-within-subgroups.html#cb292-4"></a><span class="st">    </span><span class="kw">summarise</span>(<span class="dt">count =</span> <span class="kw">n</span>(), <span class="dt">mean =</span> <span class="kw">mean</span>(waist), </span>
<span id="cb292-5"><a href="summarizing-data-within-subgroups.html#cb292-5"></a>              <span class="dt">sd =</span> <span class="kw">sd</span>(waist), <span class="dt">median =</span> <span class="kw">median</span>(waist), </span>
<span id="cb292-6"><a href="summarizing-data-within-subgroups.html#cb292-6"></a>       <span class="dt">skew_1 =</span> </span>
<span id="cb292-7"><a href="summarizing-data-within-subgroups.html#cb292-7"></a>         <span class="kw">round</span>((<span class="kw">mean</span>(waist) <span class="op">-</span><span class="st"> </span><span class="kw">median</span>(waist)) <span class="op">/</span><span class="st"> </span><span class="kw">sd</span>(waist),<span class="dv">2</span>))</span></code></pre></div>
<pre><code>`summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre><code># A tibble: 4 x 6
  bmi_cat       count  mean    sd median skew_1
  &lt;chr&gt;         &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
1 1_Underweight    41  55.2  7.58   54.5   0.09
2 2_Normal        917  61.2  9.35   59.5   0.19
3 3_Overweight    258  72.3 11.9    74    -0.14
4 4_Obese         294  85.6 17.1    86.8  -0.07</code></pre>
<p>Or, we could use something like <code>favstats</code> from the <code>mosaic</code> package, which automatically accounts for missing data, and omits it when calculating summary statistics within each group.</p>
<div class="sourceCode" id="cb295"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb295-1"><a href="summarizing-data-within-subgroups.html#cb295-1"></a>mosaic<span class="op">::</span><span class="kw">favstats</span>(waist <span class="op">~</span><span class="st"> </span>bmi_cat, <span class="dt">data =</span> nnyfs) <span class="op">%&gt;%</span></span>
<span id="cb295-2"><a href="summarizing-data-within-subgroups.html#cb295-2"></a><span class="st">    </span><span class="kw">kable</span>(<span class="dt">digits =</span> <span class="dv">1</span>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">bmi_cat</th>
<th align="right">min</th>
<th align="right">Q1</th>
<th align="right">median</th>
<th align="right">Q3</th>
<th align="right">max</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">n</th>
<th align="right">missing</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">1_Underweight</td>
<td align="right">42.5</td>
<td align="right">49.3</td>
<td align="right">54.5</td>
<td align="right">62.4</td>
<td align="right">68.5</td>
<td align="right">55.2</td>
<td align="right">7.6</td>
<td align="right">41</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">2_Normal</td>
<td align="right">44.1</td>
<td align="right">53.9</td>
<td align="right">59.5</td>
<td align="right">68.4</td>
<td align="right">89.2</td>
<td align="right">61.2</td>
<td align="right">9.4</td>
<td align="right">917</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">3_Overweight</td>
<td align="right">49.3</td>
<td align="right">62.3</td>
<td align="right">74.0</td>
<td align="right">81.2</td>
<td align="right">105.3</td>
<td align="right">72.3</td>
<td align="right">11.9</td>
<td align="right">258</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">4_Obese</td>
<td align="right">52.1</td>
<td align="right">72.7</td>
<td align="right">86.8</td>
<td align="right">96.8</td>
<td align="right">144.7</td>
<td align="right">85.6</td>
<td align="right">17.1</td>
<td align="right">294</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
<p>While patients in the heavier groups generally had higher waist circumferences, the standard deviations suggest there may be some meaningful overlap. Let’s draw the picture, in this case a comparison boxplot accompanying a violin plot.</p>
<div class="sourceCode" id="cb296"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb296-1"><a href="summarizing-data-within-subgroups.html#cb296-1"></a>nnyfs <span class="op">%&gt;%</span></span>
<span id="cb296-2"><a href="summarizing-data-within-subgroups.html#cb296-2"></a><span class="st">    </span><span class="kw">filter</span>(<span class="kw">complete.cases</span>(bmi_cat, waist)) <span class="op">%&gt;%</span></span>
<span id="cb296-3"><a href="summarizing-data-within-subgroups.html#cb296-3"></a><span class="st">    </span><span class="kw">ggplot</span>(., <span class="kw">aes</span>(<span class="dt">x =</span> bmi_cat, <span class="dt">y =</span> waist)) <span class="op">+</span></span>
<span id="cb296-4"><a href="summarizing-data-within-subgroups.html#cb296-4"></a><span class="st">    </span><span class="kw">geom_violin</span>() <span class="op">+</span></span>
<span id="cb296-5"><a href="summarizing-data-within-subgroups.html#cb296-5"></a><span class="st">    </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> bmi_cat), <span class="dt">width =</span> <span class="fl">0.2</span>) <span class="op">+</span></span>
<span id="cb296-6"><a href="summarizing-data-within-subgroups.html#cb296-6"></a><span class="st">    </span><span class="kw">theme_light</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb296-7"><a href="summarizing-data-within-subgroups.html#cb296-7"></a><span class="st">    </span><span class="kw">scale_fill_viridis_d</span>() <span class="op">+</span></span>
<span id="cb296-8"><a href="summarizing-data-within-subgroups.html#cb296-8"></a><span class="st">    </span><span class="kw">guides</span>(<span class="dt">fill =</span> <span class="ot">FALSE</span>) <span class="op">+</span></span>
<span id="cb296-9"><a href="summarizing-data-within-subgroups.html#cb296-9"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Waist Circumference by BMI Category&quot;</span>)</span></code></pre></div>
<p><img src="431-notes_files/figure-html/unnamed-chunk-64-1.png" width="672" /></p>
<p>The data transformation with dplyr cheat sheet found under the Help menu in RStudio is a great resource. And, of course, for more details, visit <span class="citation">Grolemund and Wickham (<a href="#ref-R4DS" role="doc-biblioref">2019</a>)</span>.</p>
</div>
<div id="boxplots-to-relate-an-outcome-to-a-categorical-predictor" class="section level2">
<h2><span class="header-section-number">10.3</span> Boxplots to Relate an Outcome to a Categorical Predictor</h2>
<p>Boxplots are much more useful when comparing samples of data. For instance, consider this comparison boxplot describing the triceps skinfold results across the four levels of BMI category.</p>
<div class="sourceCode" id="cb297"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb297-1"><a href="summarizing-data-within-subgroups.html#cb297-1"></a><span class="kw">ggplot</span>(nnyfs, <span class="kw">aes</span>(<span class="dt">x =</span> bmi_cat, <span class="dt">y =</span> triceps_skinfold,</span>
<span id="cb297-2"><a href="summarizing-data-within-subgroups.html#cb297-2"></a>                  <span class="dt">fill =</span> bmi_cat)) <span class="op">+</span></span>
<span id="cb297-3"><a href="summarizing-data-within-subgroups.html#cb297-3"></a><span class="st">    </span><span class="kw">geom_boxplot</span>() <span class="op">+</span></span>
<span id="cb297-4"><a href="summarizing-data-within-subgroups.html#cb297-4"></a><span class="st">    </span><span class="kw">scale_fill_viridis_d</span>() <span class="op">+</span></span>
<span id="cb297-5"><a href="summarizing-data-within-subgroups.html#cb297-5"></a><span class="st">    </span><span class="kw">theme_light</span>()</span></code></pre></div>
<pre><code>Warning: Removed 21 rows containing non-finite values (stat_boxplot).</code></pre>
<p><img src="431-notes_files/figure-html/unnamed-chunk-65-1.png" width="672" /></p>
<p>Again, we probably want to omit those missing values (both in <code>bmi_cat</code> and <code>triceps_skinfold</code>) and also eliminate the repetitive legend (guides) on the right.</p>
<div class="sourceCode" id="cb299"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb299-1"><a href="summarizing-data-within-subgroups.html#cb299-1"></a>nnyfs <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb299-2"><a href="summarizing-data-within-subgroups.html#cb299-2"></a><span class="st">    </span><span class="kw">filter</span>(<span class="kw">complete.cases</span>(bmi_cat, triceps_skinfold)) <span class="op">%&gt;%</span></span>
<span id="cb299-3"><a href="summarizing-data-within-subgroups.html#cb299-3"></a><span class="st">    </span><span class="kw">ggplot</span>(., <span class="kw">aes</span>(<span class="dt">x =</span> bmi_cat, <span class="dt">y =</span> triceps_skinfold,</span>
<span id="cb299-4"><a href="summarizing-data-within-subgroups.html#cb299-4"></a>                  <span class="dt">fill =</span> bmi_cat)) <span class="op">+</span></span>
<span id="cb299-5"><a href="summarizing-data-within-subgroups.html#cb299-5"></a><span class="st">    </span><span class="kw">geom_boxplot</span>() <span class="op">+</span></span>
<span id="cb299-6"><a href="summarizing-data-within-subgroups.html#cb299-6"></a><span class="st">    </span><span class="kw">scale_fill_viridis_d</span>() <span class="op">+</span></span>
<span id="cb299-7"><a href="summarizing-data-within-subgroups.html#cb299-7"></a><span class="st">    </span><span class="kw">guides</span>(<span class="dt">fill =</span> <span class="ot">FALSE</span>) <span class="op">+</span></span>
<span id="cb299-8"><a href="summarizing-data-within-subgroups.html#cb299-8"></a><span class="st">    </span><span class="kw">theme_light</span>() <span class="op">+</span></span>
<span id="cb299-9"><a href="summarizing-data-within-subgroups.html#cb299-9"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;BMI Category&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Triceps Skinfold in mm&quot;</span>,</span>
<span id="cb299-10"><a href="summarizing-data-within-subgroups.html#cb299-10"></a>         <span class="dt">title =</span> <span class="st">&quot;Triceps Skinfold increases with BMI category&quot;</span>,</span>
<span id="cb299-11"><a href="summarizing-data-within-subgroups.html#cb299-11"></a>         <span class="dt">subtitle =</span> <span class="st">&quot;NNYFS children&quot;</span>)</span></code></pre></div>
<p><img src="431-notes_files/figure-html/unnamed-chunk-66-1.png" width="672" /></p>
<p>As always, the boxplot shows the five-number summary (minimum, 25th percentile, median, 75th percentile and maximum) in addition to highlighting candidate outliers.</p>
<div id="augmenting-the-boxplot-with-the-sample-mean" class="section level3">
<h3><span class="header-section-number">10.3.1</span> Augmenting the Boxplot with the Sample Mean</h3>
<p>Often, we want to augment such a plot, perhaps by adding a little diamond to show the <strong>sample mean</strong> within each category, so as to highlight skew (in terms of whether the mean is meaningfully different from the median.)</p>
<div class="sourceCode" id="cb300"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb300-1"><a href="summarizing-data-within-subgroups.html#cb300-1"></a>nnyfs <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb300-2"><a href="summarizing-data-within-subgroups.html#cb300-2"></a><span class="st">    </span><span class="kw">filter</span>(<span class="kw">complete.cases</span>(bmi_cat, triceps_skinfold)) <span class="op">%&gt;%</span></span>
<span id="cb300-3"><a href="summarizing-data-within-subgroups.html#cb300-3"></a><span class="st">    </span><span class="kw">ggplot</span>(., <span class="kw">aes</span>(<span class="dt">x =</span> bmi_cat, <span class="dt">y =</span> triceps_skinfold,</span>
<span id="cb300-4"><a href="summarizing-data-within-subgroups.html#cb300-4"></a>                  <span class="dt">fill =</span> bmi_cat)) <span class="op">+</span></span>
<span id="cb300-5"><a href="summarizing-data-within-subgroups.html#cb300-5"></a><span class="st">    </span><span class="kw">geom_boxplot</span>() <span class="op">+</span></span>
<span id="cb300-6"><a href="summarizing-data-within-subgroups.html#cb300-6"></a><span class="st">    </span><span class="kw">stat_summary</span>(<span class="dt">fun=</span><span class="st">&quot;mean&quot;</span>, <span class="dt">geom=</span><span class="st">&quot;point&quot;</span>, </span>
<span id="cb300-7"><a href="summarizing-data-within-subgroups.html#cb300-7"></a>                 <span class="dt">shape=</span><span class="dv">23</span>, <span class="dt">size=</span><span class="dv">3</span>, <span class="dt">fill=</span><span class="st">&quot;white&quot;</span>) <span class="op">+</span></span>
<span id="cb300-8"><a href="summarizing-data-within-subgroups.html#cb300-8"></a><span class="st">    </span><span class="kw">scale_fill_viridis_d</span>() <span class="op">+</span></span>
<span id="cb300-9"><a href="summarizing-data-within-subgroups.html#cb300-9"></a><span class="st">    </span><span class="kw">guides</span>(<span class="dt">fill =</span> <span class="ot">FALSE</span>) <span class="op">+</span></span>
<span id="cb300-10"><a href="summarizing-data-within-subgroups.html#cb300-10"></a><span class="st">    </span><span class="kw">theme_light</span>() <span class="op">+</span></span>
<span id="cb300-11"><a href="summarizing-data-within-subgroups.html#cb300-11"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;BMI Category&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Triceps Skinfold in mm&quot;</span>,</span>
<span id="cb300-12"><a href="summarizing-data-within-subgroups.html#cb300-12"></a>         <span class="dt">title =</span> <span class="st">&quot;Triceps Skinfold increases with BMI category&quot;</span>,</span>
<span id="cb300-13"><a href="summarizing-data-within-subgroups.html#cb300-13"></a>         <span class="dt">subtitle =</span> <span class="st">&quot;NNYFS children&quot;</span>)</span></code></pre></div>
<p><img src="431-notes_files/figure-html/unnamed-chunk-67-1.png" width="672" /></p>
</div>
<div id="building-a-violin-plot" class="section level3">
<h3><span class="header-section-number">10.3.2</span> Building a Violin Plot</h3>
<p>There are a number of other plots which compare distributions of data sets. An interesting one is called a <strong>violin plot</strong>. A violin plot is a kernel density estimate, mirrored to form a symmetrical shape.</p>
<div class="sourceCode" id="cb301"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb301-1"><a href="summarizing-data-within-subgroups.html#cb301-1"></a>nnyfs <span class="op">%&gt;%</span></span>
<span id="cb301-2"><a href="summarizing-data-within-subgroups.html#cb301-2"></a><span class="st">    </span><span class="kw">filter</span>(<span class="kw">complete.cases</span>(triceps_skinfold, bmi_cat)) <span class="op">%&gt;%</span></span>
<span id="cb301-3"><a href="summarizing-data-within-subgroups.html#cb301-3"></a><span class="st">    </span><span class="kw">ggplot</span>(., <span class="kw">aes</span>(<span class="dt">x=</span>bmi_cat, <span class="dt">y=</span>triceps_skinfold, </span>
<span id="cb301-4"><a href="summarizing-data-within-subgroups.html#cb301-4"></a>                  <span class="dt">fill =</span> bmi_cat)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb301-5"><a href="summarizing-data-within-subgroups.html#cb301-5"></a><span class="st">    </span><span class="kw">geom_violin</span>(<span class="dt">trim=</span><span class="ot">FALSE</span>) <span class="op">+</span></span>
<span id="cb301-6"><a href="summarizing-data-within-subgroups.html#cb301-6"></a><span class="st">    </span><span class="kw">scale_fill_viridis_d</span>() <span class="op">+</span></span>
<span id="cb301-7"><a href="summarizing-data-within-subgroups.html#cb301-7"></a><span class="st">    </span><span class="kw">guides</span>(<span class="dt">fill =</span> <span class="st">&quot;none&quot;</span>) <span class="op">+</span></span>
<span id="cb301-8"><a href="summarizing-data-within-subgroups.html#cb301-8"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Triceps Skinfold by BMI Category&quot;</span>)</span></code></pre></div>
<p><img src="431-notes_files/figure-html/unnamed-chunk-68-1.png" width="672" /></p>
<p>Traditionally, these plots are shown with overlaid boxplots and a white dot at the median, like this example, now looking at waist circumference again.</p>
<div class="sourceCode" id="cb302"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb302-1"><a href="summarizing-data-within-subgroups.html#cb302-1"></a>nnyfs <span class="op">%&gt;%</span></span>
<span id="cb302-2"><a href="summarizing-data-within-subgroups.html#cb302-2"></a><span class="st">    </span><span class="kw">filter</span>(<span class="kw">complete.cases</span>(waist, bmi_cat)) <span class="op">%&gt;%</span></span>
<span id="cb302-3"><a href="summarizing-data-within-subgroups.html#cb302-3"></a><span class="st">    </span><span class="kw">ggplot</span>(., <span class="kw">aes</span>(<span class="dt">x =</span> bmi_cat, <span class="dt">y =</span> waist, </span>
<span id="cb302-4"><a href="summarizing-data-within-subgroups.html#cb302-4"></a>                  <span class="dt">fill =</span> bmi_cat)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb302-5"><a href="summarizing-data-within-subgroups.html#cb302-5"></a><span class="st">    </span><span class="kw">geom_violin</span>(<span class="dt">trim=</span><span class="ot">FALSE</span>) <span class="op">+</span></span>
<span id="cb302-6"><a href="summarizing-data-within-subgroups.html#cb302-6"></a><span class="st">    </span><span class="kw">geom_boxplot</span>(<span class="dt">width=</span>.<span class="dv">1</span>, <span class="dt">outlier.colour=</span><span class="ot">NA</span>, </span>
<span id="cb302-7"><a href="summarizing-data-within-subgroups.html#cb302-7"></a>                 <span class="dt">color =</span> <span class="kw">c</span>(<span class="kw">rep</span>(<span class="st">&quot;white&quot;</span>,<span class="dv">2</span>), <span class="kw">rep</span>(<span class="st">&quot;black&quot;</span>,<span class="dv">2</span>))) <span class="op">+</span></span>
<span id="cb302-8"><a href="summarizing-data-within-subgroups.html#cb302-8"></a><span class="st">    </span><span class="kw">stat_summary</span>(<span class="dt">fun=</span>median, <span class="dt">geom=</span><span class="st">&quot;point&quot;</span>, </span>
<span id="cb302-9"><a href="summarizing-data-within-subgroups.html#cb302-9"></a>                 <span class="dt">fill=</span><span class="st">&quot;white&quot;</span>, <span class="dt">shape=</span><span class="dv">21</span>, <span class="dt">size=</span><span class="dv">3</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb302-10"><a href="summarizing-data-within-subgroups.html#cb302-10"></a><span class="st">    </span><span class="kw">scale_fill_viridis_d</span>() <span class="op">+</span></span>
<span id="cb302-11"><a href="summarizing-data-within-subgroups.html#cb302-11"></a><span class="st">    </span><span class="kw">guides</span>(<span class="dt">fill =</span> <span class="st">&quot;none&quot;</span>) <span class="op">+</span></span>
<span id="cb302-12"><a href="summarizing-data-within-subgroups.html#cb302-12"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Waist Circumference by BMI Category&quot;</span>)</span></code></pre></div>
<p><img src="431-notes_files/figure-html/unnamed-chunk-69-1.png" width="672" /></p>
</div>
<div id="adding-notches-to-a-boxplot" class="section level3">
<h3><span class="header-section-number">10.3.3</span> Adding Notches to a Boxplot</h3>
<p><strong>Notches</strong> are used in boxplots to help visually assess whether the medians of the distributions across the various groups actually differ to a statistically detectable extent. Think of them as confidence regions around the medians. If the notches do not overlap, as in this situation, this provides some evidence that the medians in the populations represented by these samples may be different.</p>
<div class="sourceCode" id="cb303"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb303-1"><a href="summarizing-data-within-subgroups.html#cb303-1"></a>nnyfs <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb303-2"><a href="summarizing-data-within-subgroups.html#cb303-2"></a><span class="st">    </span><span class="kw">filter</span>(<span class="kw">complete.cases</span>(bmi_cat, triceps_skinfold)) <span class="op">%&gt;%</span></span>
<span id="cb303-3"><a href="summarizing-data-within-subgroups.html#cb303-3"></a><span class="st">    </span><span class="kw">ggplot</span>(., <span class="kw">aes</span>(<span class="dt">x =</span> bmi_cat, <span class="dt">y =</span> triceps_skinfold)) <span class="op">+</span></span>
<span id="cb303-4"><a href="summarizing-data-within-subgroups.html#cb303-4"></a><span class="st">    </span><span class="kw">geom_violin</span>() <span class="op">+</span></span>
<span id="cb303-5"><a href="summarizing-data-within-subgroups.html#cb303-5"></a><span class="st">    </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> bmi_cat), <span class="dt">width =</span> <span class="fl">0.3</span>, <span class="dt">notch =</span> <span class="ot">TRUE</span>) <span class="op">+</span></span>
<span id="cb303-6"><a href="summarizing-data-within-subgroups.html#cb303-6"></a><span class="st">    </span><span class="kw">scale_fill_viridis_d</span>() <span class="op">+</span></span>
<span id="cb303-7"><a href="summarizing-data-within-subgroups.html#cb303-7"></a><span class="st">    </span><span class="kw">guides</span>(<span class="dt">fill =</span> <span class="ot">FALSE</span>) <span class="op">+</span></span>
<span id="cb303-8"><a href="summarizing-data-within-subgroups.html#cb303-8"></a><span class="st">    </span><span class="kw">theme_light</span>() <span class="op">+</span></span>
<span id="cb303-9"><a href="summarizing-data-within-subgroups.html#cb303-9"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;BMI Category&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Triceps Skinfold in mm&quot;</span>,</span>
<span id="cb303-10"><a href="summarizing-data-within-subgroups.html#cb303-10"></a>         <span class="dt">title =</span> <span class="st">&quot;Triceps Skinfold increases with BMI category&quot;</span>,</span>
<span id="cb303-11"><a href="summarizing-data-within-subgroups.html#cb303-11"></a>         <span class="dt">subtitle =</span> <span class="st">&quot;NNYFS children&quot;</span>)</span></code></pre></div>
<p><img src="431-notes_files/figure-html/unnamed-chunk-70-1.png" width="672" /></p>
<p>There is no overlap between the notches for each of the four categories, so we might reasonably conclude that the true median triceps skinfold values across the four categories are statistically significantly different.</p>
<p>For an example where the notches do overlap, consider the comparison of plank times by BMI category.</p>
<div class="sourceCode" id="cb304"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb304-1"><a href="summarizing-data-within-subgroups.html#cb304-1"></a>nnyfs <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb304-2"><a href="summarizing-data-within-subgroups.html#cb304-2"></a><span class="st">    </span><span class="kw">filter</span>(<span class="kw">complete.cases</span>(bmi_cat, plank_time)) <span class="op">%&gt;%</span></span>
<span id="cb304-3"><a href="summarizing-data-within-subgroups.html#cb304-3"></a><span class="st">    </span><span class="kw">ggplot</span>(., <span class="kw">aes</span>(<span class="dt">x=</span>bmi_cat, <span class="dt">y=</span>plank_time)) <span class="op">+</span></span>
<span id="cb304-4"><a href="summarizing-data-within-subgroups.html#cb304-4"></a><span class="st">    </span><span class="kw">geom_violin</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> bmi_cat)) <span class="op">+</span></span>
<span id="cb304-5"><a href="summarizing-data-within-subgroups.html#cb304-5"></a><span class="st">    </span><span class="kw">geom_boxplot</span>(<span class="dt">width =</span> <span class="fl">0.3</span>, <span class="dt">notch=</span><span class="ot">TRUE</span>) <span class="op">+</span></span>
<span id="cb304-6"><a href="summarizing-data-within-subgroups.html#cb304-6"></a><span class="st">    </span><span class="kw">scale_fill_viridis_d</span>() <span class="op">+</span></span>
<span id="cb304-7"><a href="summarizing-data-within-subgroups.html#cb304-7"></a><span class="st">    </span><span class="kw">guides</span>(<span class="dt">fill =</span> <span class="st">&quot;none&quot;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb304-8"><a href="summarizing-data-within-subgroups.html#cb304-8"></a><span class="st">    </span><span class="kw">theme_light</span>() <span class="op">+</span></span>
<span id="cb304-9"><a href="summarizing-data-within-subgroups.html#cb304-9"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Plank Times by BMI category&quot;</span>, </span>
<span id="cb304-10"><a href="summarizing-data-within-subgroups.html#cb304-10"></a>         <span class="dt">x =</span> <span class="st">&quot;&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Plank Time (in seconds)&quot;</span>)</span></code></pre></div>
<p><img src="431-notes_files/figure-html/unnamed-chunk-71-1.png" width="672" /></p>
<p>The overlap in the notches (for instance between Underweight and Normal) suggests that the median plank times in the population of interest don’t necessarily differ in a meaningful way by BMI category, other than perhaps the Obese group which may have a shorter time.</p>
<p>These data are somewhat right skewed. Would a logarithmic transformation in the plot help us see the patterns more clearly?</p>
<div class="sourceCode" id="cb305"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb305-1"><a href="summarizing-data-within-subgroups.html#cb305-1"></a>nnyfs <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb305-2"><a href="summarizing-data-within-subgroups.html#cb305-2"></a><span class="st">    </span><span class="kw">filter</span>(<span class="kw">complete.cases</span>(bmi_cat, plank_time)) <span class="op">%&gt;%</span></span>
<span id="cb305-3"><a href="summarizing-data-within-subgroups.html#cb305-3"></a><span class="st">    </span><span class="kw">ggplot</span>(., <span class="kw">aes</span>(<span class="dt">x=</span>bmi_cat, <span class="dt">y =</span> <span class="kw">log</span>(plank_time))) <span class="op">+</span></span>
<span id="cb305-4"><a href="summarizing-data-within-subgroups.html#cb305-4"></a><span class="st">    </span><span class="kw">geom_violin</span>() <span class="op">+</span></span>
<span id="cb305-5"><a href="summarizing-data-within-subgroups.html#cb305-5"></a><span class="st">    </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> bmi_cat), <span class="dt">width =</span> <span class="fl">0.3</span>, <span class="dt">notch=</span><span class="ot">TRUE</span>) <span class="op">+</span></span>
<span id="cb305-6"><a href="summarizing-data-within-subgroups.html#cb305-6"></a><span class="st">    </span><span class="kw">scale_fill_viridis_d</span>() <span class="op">+</span></span>
<span id="cb305-7"><a href="summarizing-data-within-subgroups.html#cb305-7"></a><span class="st">    </span><span class="kw">guides</span>(<span class="dt">fill =</span> <span class="st">&quot;none&quot;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb305-8"><a href="summarizing-data-within-subgroups.html#cb305-8"></a><span class="st">    </span><span class="kw">theme_light</span>() <span class="op">+</span></span>
<span id="cb305-9"><a href="summarizing-data-within-subgroups.html#cb305-9"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;log(Plank Times) by BMI category&quot;</span>, </span>
<span id="cb305-10"><a href="summarizing-data-within-subgroups.html#cb305-10"></a>         <span class="dt">x =</span> <span class="st">&quot;&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Natural Log of Plank Time&quot;</span>)</span></code></pre></div>
<p><img src="431-notes_files/figure-html/unnamed-chunk-72-1.png" width="672" /></p>
</div>
</div>
<div id="using-multiple-histograms-to-make-comparisons" class="section level2">
<h2><span class="header-section-number">10.4</span> Using Multiple Histograms to Make Comparisons</h2>
<p>We can make an array of histograms to describe multiple groups of data, using <code>ggplot2</code> and the notion of <strong>faceting</strong> our plot.</p>
<div class="sourceCode" id="cb306"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb306-1"><a href="summarizing-data-within-subgroups.html#cb306-1"></a>nnyfs <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb306-2"><a href="summarizing-data-within-subgroups.html#cb306-2"></a><span class="st">    </span><span class="kw">filter</span>(<span class="kw">complete.cases</span>(triceps_skinfold, bmi_cat)) <span class="op">%&gt;%</span></span>
<span id="cb306-3"><a href="summarizing-data-within-subgroups.html#cb306-3"></a><span class="st">    </span><span class="kw">ggplot</span>(., <span class="kw">aes</span>(<span class="dt">x=</span>triceps_skinfold, <span class="dt">fill =</span> bmi_cat)) <span class="op">+</span></span>
<span id="cb306-4"><a href="summarizing-data-within-subgroups.html#cb306-4"></a><span class="st">    </span><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="dv">2</span>, <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb306-5"><a href="summarizing-data-within-subgroups.html#cb306-5"></a><span class="st">    </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>bmi_cat) <span class="op">+</span></span>
<span id="cb306-6"><a href="summarizing-data-within-subgroups.html#cb306-6"></a><span class="st">    </span><span class="kw">scale_fill_viridis_d</span>() <span class="op">+</span></span>
<span id="cb306-7"><a href="summarizing-data-within-subgroups.html#cb306-7"></a><span class="st">    </span><span class="kw">guides</span>(<span class="dt">fill =</span> <span class="st">&quot;none&quot;</span>) <span class="op">+</span></span>
<span id="cb306-8"><a href="summarizing-data-within-subgroups.html#cb306-8"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Triceps Skinfold by BMI Category&quot;</span>)</span></code></pre></div>
<p><img src="431-notes_files/figure-html/unnamed-chunk-73-1.png" width="672" /></p>
</div>
<div id="using-multiple-density-plots-to-make-comparisons" class="section level2">
<h2><span class="header-section-number">10.5</span> Using Multiple Density Plots to Make Comparisons</h2>
<p>Or, we can make a series of density plots to describe multiple groups of data.</p>
<div class="sourceCode" id="cb307"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb307-1"><a href="summarizing-data-within-subgroups.html#cb307-1"></a>nnyfs <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb307-2"><a href="summarizing-data-within-subgroups.html#cb307-2"></a><span class="st">    </span><span class="kw">filter</span>(<span class="kw">complete.cases</span>(triceps_skinfold, bmi_cat)) <span class="op">%&gt;%</span></span>
<span id="cb307-3"><a href="summarizing-data-within-subgroups.html#cb307-3"></a><span class="st">    </span><span class="kw">ggplot</span>(., <span class="kw">aes</span>(<span class="dt">x=</span>triceps_skinfold, <span class="dt">fill =</span> bmi_cat)) <span class="op">+</span></span>
<span id="cb307-4"><a href="summarizing-data-within-subgroups.html#cb307-4"></a><span class="st">    </span><span class="kw">geom_density</span>(<span class="dt">color =</span> <span class="st">&quot;black&quot;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb307-5"><a href="summarizing-data-within-subgroups.html#cb307-5"></a><span class="st">    </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>bmi_cat) <span class="op">+</span></span>
<span id="cb307-6"><a href="summarizing-data-within-subgroups.html#cb307-6"></a><span class="st">    </span><span class="kw">scale_fill_viridis_d</span>() <span class="op">+</span></span>
<span id="cb307-7"><a href="summarizing-data-within-subgroups.html#cb307-7"></a><span class="st">    </span><span class="kw">guides</span>(<span class="dt">fill =</span> <span class="st">&quot;none&quot;</span>) <span class="op">+</span></span>
<span id="cb307-8"><a href="summarizing-data-within-subgroups.html#cb307-8"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Triceps Skinfold by BMI Category&quot;</span>)</span></code></pre></div>
<p><img src="431-notes_files/figure-html/unnamed-chunk-74-1.png" width="672" /></p>
<p>Or, we can plot all of the densities on top of each other with semi-transparent fills.</p>
<div class="sourceCode" id="cb308"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb308-1"><a href="summarizing-data-within-subgroups.html#cb308-1"></a>nnyfs <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb308-2"><a href="summarizing-data-within-subgroups.html#cb308-2"></a><span class="st">    </span><span class="kw">filter</span>(<span class="kw">complete.cases</span>(triceps_skinfold, bmi_cat)) <span class="op">%&gt;%</span></span>
<span id="cb308-3"><a href="summarizing-data-within-subgroups.html#cb308-3"></a><span class="st">    </span><span class="kw">ggplot</span>(., <span class="kw">aes</span>(<span class="dt">x=</span>triceps_skinfold, <span class="dt">fill =</span> bmi_cat)) <span class="op">+</span></span>
<span id="cb308-4"><a href="summarizing-data-within-subgroups.html#cb308-4"></a><span class="st">    </span><span class="kw">geom_density</span>(<span class="dt">alpha=</span><span class="fl">0.3</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb308-5"><a href="summarizing-data-within-subgroups.html#cb308-5"></a><span class="st">    </span><span class="kw">scale_fill_viridis_d</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb308-6"><a href="summarizing-data-within-subgroups.html#cb308-6"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Triceps Skinfold by BMI Category&quot;</span>)</span></code></pre></div>
<p><img src="431-notes_files/figure-html/unnamed-chunk-75-1.png" width="672" /></p>
<p>This really works better when we are comparing only two groups, like females to males.</p>
<div class="sourceCode" id="cb309"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb309-1"><a href="summarizing-data-within-subgroups.html#cb309-1"></a>nnyfs <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb309-2"><a href="summarizing-data-within-subgroups.html#cb309-2"></a><span class="st">    </span><span class="kw">filter</span>(<span class="kw">complete.cases</span>(triceps_skinfold, sex)) <span class="op">%&gt;%</span></span>
<span id="cb309-3"><a href="summarizing-data-within-subgroups.html#cb309-3"></a><span class="st">    </span><span class="kw">ggplot</span>(., <span class="kw">aes</span>(<span class="dt">x=</span>triceps_skinfold, <span class="dt">fill =</span> sex)) <span class="op">+</span></span>
<span id="cb309-4"><a href="summarizing-data-within-subgroups.html#cb309-4"></a><span class="st">    </span><span class="kw">geom_density</span>(<span class="dt">alpha=</span><span class="fl">0.5</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb309-5"><a href="summarizing-data-within-subgroups.html#cb309-5"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Triceps Skinfold by Sex&quot;</span>)</span></code></pre></div>
<p><img src="431-notes_files/figure-html/unnamed-chunk-76-1.png" width="672" /></p>
</div>
<div id="a-ridgeline-plot" class="section level2">
<h2><span class="header-section-number">10.6</span> A Ridgeline Plot</h2>
<p>Some people don’t like violin plots - for example, see <a href="https://simplystatistics.org/2017/07/13/the-joy-of-no-more-violin-plots/" class="uri">https://simplystatistics.org/2017/07/13/the-joy-of-no-more-violin-plots/</a>. A relatively new alternative plot is available. This shows the distribution of several groups simultaneously, especially when you have lots of subgroup categories, and is called a <strong>ridgeline plot</strong>.</p>
<div class="sourceCode" id="cb310"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb310-1"><a href="summarizing-data-within-subgroups.html#cb310-1"></a>nnyfs <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb310-2"><a href="summarizing-data-within-subgroups.html#cb310-2"></a><span class="st">    </span><span class="kw">filter</span>(<span class="kw">complete.cases</span>(waist, bmi_cat)) <span class="op">%&gt;%</span></span>
<span id="cb310-3"><a href="summarizing-data-within-subgroups.html#cb310-3"></a><span class="st">    </span><span class="kw">ggplot</span>(., <span class="kw">aes</span>(<span class="dt">x =</span> waist, <span class="dt">y =</span> bmi_cat, <span class="dt">height =</span> ..density..)) <span class="op">+</span></span>
<span id="cb310-4"><a href="summarizing-data-within-subgroups.html#cb310-4"></a><span class="st">    </span>ggridges<span class="op">::</span><span class="kw">geom_density_ridges</span>(<span class="dt">scale =</span> <span class="fl">0.85</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb310-5"><a href="summarizing-data-within-subgroups.html#cb310-5"></a><span class="st">    </span><span class="kw">theme_light</span>() <span class="op">+</span></span>
<span id="cb310-6"><a href="summarizing-data-within-subgroups.html#cb310-6"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Ridgeline Plot of Waist Circumference by BMI category (nnyfs)&quot;</span>,</span>
<span id="cb310-7"><a href="summarizing-data-within-subgroups.html#cb310-7"></a>         <span class="dt">x =</span> <span class="st">&quot;Waist Circumference&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;BMI Category&quot;</span>)</span></code></pre></div>
<pre><code>Picking joint bandwidth of 3.47</code></pre>
<p><img src="431-notes_files/figure-html/unnamed-chunk-77-1.png" width="672" /></p>
<p>And here’s a ridgeline plot for the triceps skinfolds. We’ll start by sorting the subgroups by the median value of our outcome (triceps skinfold) in this case, though it turns out not to matter. We’ll also add some color.</p>
<div class="sourceCode" id="cb312"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb312-1"><a href="summarizing-data-within-subgroups.html#cb312-1"></a>nnyfs <span class="op">%&gt;%</span></span>
<span id="cb312-2"><a href="summarizing-data-within-subgroups.html#cb312-2"></a><span class="st">    </span><span class="kw">filter</span>(<span class="kw">complete.cases</span>(bmi_cat, triceps_skinfold)) <span class="op">%&gt;%</span></span>
<span id="cb312-3"><a href="summarizing-data-within-subgroups.html#cb312-3"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">bmi_cat =</span> <span class="kw">fct_reorder</span>(bmi_cat,</span>
<span id="cb312-4"><a href="summarizing-data-within-subgroups.html#cb312-4"></a>                                 triceps_skinfold, </span>
<span id="cb312-5"><a href="summarizing-data-within-subgroups.html#cb312-5"></a>                                 <span class="dt">.fun =</span> median)) <span class="op">%&gt;%</span></span>
<span id="cb312-6"><a href="summarizing-data-within-subgroups.html#cb312-6"></a><span class="st">    </span><span class="kw">ggplot</span>(., <span class="kw">aes</span>(<span class="dt">x =</span> triceps_skinfold, <span class="dt">y =</span> bmi_cat, </span>
<span id="cb312-7"><a href="summarizing-data-within-subgroups.html#cb312-7"></a>                  <span class="dt">fill =</span> bmi_cat, <span class="dt">height =</span> ..density..)) <span class="op">+</span></span>
<span id="cb312-8"><a href="summarizing-data-within-subgroups.html#cb312-8"></a><span class="st">    </span>ggridges<span class="op">::</span><span class="kw">geom_density_ridges</span>(<span class="dt">scale =</span> <span class="fl">0.85</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb312-9"><a href="summarizing-data-within-subgroups.html#cb312-9"></a><span class="st">    </span><span class="kw">scale_fill_viridis_d</span>(<span class="dt">option =</span> <span class="st">&quot;magma&quot;</span>) <span class="op">+</span></span>
<span id="cb312-10"><a href="summarizing-data-within-subgroups.html#cb312-10"></a><span class="st">    </span><span class="kw">guides</span>(<span class="dt">fill =</span> <span class="ot">FALSE</span>) <span class="op">+</span></span>
<span id="cb312-11"><a href="summarizing-data-within-subgroups.html#cb312-11"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Ridgeline Plot of Triceps Skinfold by BMI Category (nnyfs)&quot;</span>,</span>
<span id="cb312-12"><a href="summarizing-data-within-subgroups.html#cb312-12"></a>         <span class="dt">x =</span> <span class="st">&quot;Triceps Skinfold&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;BMI Category&quot;</span>) <span class="op">+</span></span>
<span id="cb312-13"><a href="summarizing-data-within-subgroups.html#cb312-13"></a><span class="st">    </span><span class="kw">theme_light</span>()</span></code></pre></div>
<pre><code>Picking joint bandwidth of 1.37</code></pre>
<p><img src="431-notes_files/figure-html/unnamed-chunk-78-1.png" width="672" /></p>
<p>For one last example, we’ll look at age by BMI category, so that sorting the BMI subgroups by the median matters, and we’ll try an alternate color scheme, and a theme specially designed for the ridgeline plot.</p>
<div class="sourceCode" id="cb314"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb314-1"><a href="summarizing-data-within-subgroups.html#cb314-1"></a>nnyfs <span class="op">%&gt;%</span></span>
<span id="cb314-2"><a href="summarizing-data-within-subgroups.html#cb314-2"></a><span class="st">    </span><span class="kw">filter</span>(<span class="kw">complete.cases</span>(bmi_cat, age_child)) <span class="op">%&gt;%</span></span>
<span id="cb314-3"><a href="summarizing-data-within-subgroups.html#cb314-3"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">bmi_cat =</span> <span class="kw">reorder</span>(bmi_cat, age_child, median)) <span class="op">%&gt;%</span></span>
<span id="cb314-4"><a href="summarizing-data-within-subgroups.html#cb314-4"></a><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> age_child, <span class="dt">y =</span> bmi_cat, <span class="dt">fill =</span> bmi_cat, <span class="dt">height =</span> ..density..)) <span class="op">+</span></span>
<span id="cb314-5"><a href="summarizing-data-within-subgroups.html#cb314-5"></a><span class="st">    </span>ggridges<span class="op">::</span><span class="kw">geom_density_ridges</span>(<span class="dt">scale =</span> <span class="fl">0.85</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb314-6"><a href="summarizing-data-within-subgroups.html#cb314-6"></a><span class="st">    </span><span class="kw">scale_fill_brewer</span>(<span class="dt">palette =</span> <span class="st">&quot;YlOrRd&quot;</span>) <span class="op">+</span></span>
<span id="cb314-7"><a href="summarizing-data-within-subgroups.html#cb314-7"></a><span class="st">    </span><span class="kw">guides</span>(<span class="dt">fill =</span> <span class="ot">FALSE</span>) <span class="op">+</span></span>
<span id="cb314-8"><a href="summarizing-data-within-subgroups.html#cb314-8"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Ridgeline Plot of Age at Exam by BMI category (nnyfs)&quot;</span>,</span>
<span id="cb314-9"><a href="summarizing-data-within-subgroups.html#cb314-9"></a>         <span class="dt">x =</span> <span class="st">&quot;Age of Child at Exam&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;BMI Category&quot;</span>) <span class="op">+</span></span>
<span id="cb314-10"><a href="summarizing-data-within-subgroups.html#cb314-10"></a><span class="st">    </span>ggridges<span class="op">::</span><span class="kw">theme_ridges</span>()</span></code></pre></div>
<pre><code>Picking joint bandwidth of 1.15</code></pre>
<p><img src="431-notes_files/figure-html/unnamed-chunk-79-1.png" width="672" /></p>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-R4DS">
<p>Grolemund, Garrett, and Hadley Wickham. 2019. <em>R for Data Science</em>. O’Reilly. <a href="http://r4ds.had.co.nz/">http://r4ds.had.co.nz/</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="using-transformations-to-normalize-distributions.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="straight-line-models-and-correlation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/10_subgroup_summaries.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["431-notes.pdf", "431-notes.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
